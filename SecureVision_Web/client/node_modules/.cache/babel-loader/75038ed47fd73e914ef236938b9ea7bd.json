{"ast":null,"code":"var _jsxFileName = \"/Users/aleclawlor/SecureVision/client/src/components/dailyActivity/activityLayout.js\";\nimport React, { Component } from 'react';\nimport TableFixedHeader from './completeLog';\nimport Snackbar from '../snackbar/snackbar';\n\nconst Axios = require('axios');\n\nclass activityLayout extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dataList: [],\n      triggerHighRisk: false,\n      mostRecentCriminalNumber: '',\n      mostRecentCriminalType: '',\n      mostRecentCriminalTime: ''\n    };\n\n    this.refresh = async () => {\n      let data = await Axios.get('/api/lpr/getGeneralData');\n      let rawData = data.data;\n      let sorted = rawData.sort((a, b) => a.date < b.date ? 1 : a.date === b.date ? a.time < b.time ? 1 : -1 : -1);\n      let currentList = this.state.dataList;\n      console.log(sorted);\n      console.log(currentList);\n\n      if (currentList.length != sorted.length && currentList.length != 0) {\n        const num_new = sorted.length - currentList.length;\n        console.log('New Plates: ', num_new);\n        let i = 0;\n\n        while (i < num_new) {\n          let newPlate = sorted[i];\n          console.log(newPlate);\n\n          if (newPlate.type != 'Parent') {\n            console.log('trigger high risk modal');\n          }\n\n          i++;\n        }\n\n        console.log('recognized a plate');\n        this.setState({\n          dataList: sorted\n        });\n      }\n\n      this.setState({\n        dataList: sorted\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.refresh();\n    this.intervalId = setInterval(this.refresh, 6000);\n  }\n\n  componentWillMount() {\n    clearInterval(this.intervalId);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(TableFixedHeader, {\n      dataList: this.state.dataList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Snackbar, {\n      shouldOpen: this.state.triggerHighRisk,\n      message: [React.createElement(\"span\", {\n        style: {\n          fontSize: '24px',\n          marginBottom: '25px',\n          color: ''\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"High Risk Plate Detected\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          fontSize: '20px',\n          marginBottom: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Plate: \", this.state.mostRecentCriminalNumber), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          fontSize: '20px',\n          marginBottom: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Threat Type: \", this.state.mostRecentCriminalType), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          fontSize: '20px',\n          marginBottom: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Location: \", this.state.mostRecentCriminalTime)],\n      activate: this.state.triggerHighRisk,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default activityLayout;","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/client/src/components/dailyActivity/activityLayout.js"],"names":["React","Component","TableFixedHeader","Snackbar","Axios","require","activityLayout","state","dataList","triggerHighRisk","mostRecentCriminalNumber","mostRecentCriminalType","mostRecentCriminalTime","refresh","data","get","rawData","sorted","sort","a","b","date","time","currentList","console","log","length","num_new","i","newPlate","type","setState","componentDidMount","intervalId","setInterval","componentWillMount","clearInterval","render","fontSize","marginBottom","color"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport TableFixedHeader from './completeLog'\nimport Snackbar from '../snackbar/snackbar'\n\nconst Axios = require('axios')\n\nclass activityLayout extends Component{\n\n  intervalId\n\n  state = {\n    dataList: [],\n    triggerHighRisk: false,\n    mostRecentCriminalNumber: '',\n    mostRecentCriminalType: '',\n    mostRecentCriminalTime: '' \n  }\n  \n  refresh = async() => {\n\n    let data = await Axios.get('/api/lpr/getGeneralData')\n    let rawData = data.data\n    \n    let sorted = rawData.sort((a,b) => (a.date < b.date) ? 1: (a.date === b.date) ? ((a.time < b.time) ? 1 : -1): -1)\n    let currentList = this.state.dataList\n\n    console.log(sorted)\n    console.log(currentList)\n\n    if(currentList.length != sorted.length && currentList.length != 0){\n        \n        const num_new = sorted.length - currentList.length \n        console.log('New Plates: ', num_new)\n\n        let i = 0\n        while(i < num_new){\n\n          let newPlate = sorted[i]\n          console.log(newPlate)\n\n          if(newPlate.type != 'Parent'){\n            console.log('trigger high risk modal')\n          }\n\n          i++\n        }\n\n        console.log('recognized a plate')\n\n        this.setState({dataList: sorted})\n        \n    }\n\n    this.setState({dataList: sorted})\n  }\n\n  componentDidMount(){\n    this.refresh()\n    this.intervalId = setInterval(this.refresh, 6000)\n  }\n\n  componentWillMount(){\n      clearInterval(this.intervalId)\n  }\n\n  render(){\n    return(\n        <div>\n            <TableFixedHeader dataList={this.state.dataList}/>\n            <Snackbar \n                      shouldOpen={this.state.triggerHighRisk} \n                      message={[\n                          <span style={{fontSize: '24px', marginBottom: '25px', color: ''}}>High Risk Plate Detected</span>,\n                          <br></br>,<br></br>,\n                          <span style={{fontSize: '20px', marginBottom: '15px'}}>Plate: {this.state.mostRecentCriminalNumber}</span>,\n                          <br></br>,\n                          <span style={{fontSize: '20px', marginBottom: '15px'}}>Threat Type: {this.state.mostRecentCriminalType}</span>,\n                          <br></br>,\n                          <span style={{fontSize: '20px', marginBottom: '15px'}}>Location: {this.state.mostRecentCriminalTime}</span>\n                      ]}\n                      activate={this.state.triggerHighRisk}\n                      >\n                  </Snackbar>\n        </div>\n       )\n    }\n}\n\nexport default activityLayout"]},"metadata":{},"sourceType":"module"}