{"ast":null,"code":"var _jsxFileName = \"/Users/aleclawlor/SecureVision/client/src/components/activePlatesFeed/highRiskModal.js\";\nimport React, { Component } from 'react';\nimport Modal from '../material/modal';\nimport Snack from '../snackbar/snackbar';\nimport Button from '@material-ui/core/Button';\nimport { TextField } from '@material-ui/core';\n\nconst Axios = require('axios');\n\nclass myModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showEditModal: false,\n      showDeactivateModal: false,\n      name: this.props.name,\n      type: this.props.type,\n      plateNumber: this.props.plateNumber,\n      confirmPlate: this.props.plateNumber,\n      oldName: this.props.name,\n      oldPlate: this.props.plateNumber,\n      id: this.props.id,\n      showSuccess: false,\n      display: true\n    };\n\n    this.handleEditModalClose = () => {\n      this.setState({\n        showEditModal: false\n      });\n    };\n\n    this.handleDeactivateModalClose = () => {\n      this.setState({\n        showDeactivateModal: false\n      });\n    };\n\n    this.editItemHandler = async () => {\n      if (this.state.plateNumber === this.state.confirmPlate) {\n        let editItem = await Axios.put('/api/edit/editHighRisk', {\n          id: this.state.id,\n          name: this.state.name,\n          type: this.state.type,\n          plateNumber: this.state.plateNumber\n        });\n        console.log(editItem);\n        this.setState({\n          showEditModal: false\n        });\n        this.setState({\n          showSuccess: true,\n          oldPlate: this.state.plateNumber,\n          oldName: this.state.name\n        });\n        this.props.onSubmit();\n      } else {\n        console.log(\"Plates do not match\");\n      }\n    };\n\n    this.deactivatetemHandler = async () => {\n      let deactivate = await Axios.put('/api/edit/deactivateHighRisk', {\n        id: this.state.id\n      });\n      console.log(deactivate);\n      this.setState({\n        showDeactivateModal: false\n      });\n      this.setState({\n        showSuccess: true\n      });\n      this.setState({\n        display: false\n      });\n      this.props.onSubmit();\n    };\n\n    this.nameChangeHandler = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.typeChangeHandler = event => {\n      this.setState({\n        type: event.target.value\n      });\n    };\n\n    this.plateChangeHandler = event => {\n      this.setState({\n        plateNumber: event.target.value\n      });\n    };\n\n    this.confirmPlateChangeHandler = event => {\n      this.setState({\n        confirmPlate: event.target.value\n      });\n    };\n  }\n\n  render() {\n    let successSnack = this.state.showSuccess ? React.createElement(Snack, {\n      activate: true,\n      message: \"Plate successfully edited\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }) : null;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      shouldOpen: this.props.showEditModal,\n      title: \"Edit Plate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Name: \", React.createElement(TextField, {\n      style: {\n        marginLeft: '20px'\n      },\n      onChange: this.nameChangeHandler,\n      value: this.state.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Threat Type: \", React.createElement(TextField, {\n      style: {\n        marginLeft: '20px'\n      },\n      onChange: this.typeChangeHandler,\n      value: this.state.type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Plate Number: \", React.createElement(TextField, {\n      style: {\n        marginLeft: '20px'\n      },\n      onChange: this.plateChangeHandler,\n      value: this.state.plateNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Confirm Plate Number: \", React.createElement(TextField, {\n      style: {\n        marginLeft: '20px'\n      },\n      onChange: this.confirmPlateChangeHandler,\n      value: this.state.confirmPlate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.editItemHandler,\n      style: {\n        marginTop: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Confirm Edit\"), React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.props.onCancel,\n      style: {\n        marginTop: '0px',\n        marginLeft: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Cancel\"))), React.createElement(Modal, {\n      shouldOpen: this.props.showDeactivateModal,\n      title: \"Confirm Deactivation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Are you sure you wish to deactivate this plate? Deactivation means cameras will no longer recognize this plate, and it will be removed from the 'active plates' section. Please confirm this action.\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.deactivatetemHandler,\n      style: {\n        marginTop: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Confirm Deactivation\"), React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.props.onCancel,\n      style: {\n        marginTop: '20px',\n        marginLeft: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Cancel\"))), successSnack);\n  }\n\n}\n\nexport default myModal;","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/client/src/components/activePlatesFeed/highRiskModal.js"],"names":["React","Component","Modal","Snack","Button","TextField","Axios","require","myModal","state","showEditModal","showDeactivateModal","name","props","type","plateNumber","confirmPlate","oldName","oldPlate","id","showSuccess","display","handleEditModalClose","setState","handleDeactivateModalClose","editItemHandler","editItem","put","console","log","onSubmit","deactivatetemHandler","deactivate","nameChangeHandler","event","target","value","typeChangeHandler","plateChangeHandler","confirmPlateChangeHandler","render","successSnack","marginLeft","marginTop","onCancel"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Modal from '../material/modal'\nimport Snack from '../snackbar/snackbar'\nimport Button from '@material-ui/core/Button'\nimport { TextField } from '@material-ui/core'\n\nconst Axios = require('axios')\n\nclass myModal extends Component {\n\n    state = {\n        showEditModal: false, \n        showDeactivateModal: false,\n        name: this.props.name,\n        type: this.props.type,\n        plateNumber: this.props.plateNumber,\n        confirmPlate: this.props.plateNumber,\n        oldName: this.props.name, \n        oldPlate: this.props.plateNumber,\n        id: this.props.id,\n        showSuccess: false,\n        display: true\n    }\n\n    handleEditModalClose = () => {\n        this.setState({showEditModal: false})\n    }\n    \n    handleDeactivateModalClose = () => {\n        this.setState({showDeactivateModal: false})\n    }\n\n    editItemHandler = async() => {\n        if(this.state.plateNumber === this.state.confirmPlate){\n        let editItem = await Axios.put('/api/edit/editHighRisk', {\n                id: this.state.id, \n                name: this.state.name,\n                type: this.state.type,\n                plateNumber: this.state.plateNumber\n            })\n        console.log(editItem)\n        this.setState({\n            showEditModal: false\n        })\n        this.setState({showSuccess: true, oldPlate: this.state.plateNumber, oldName: this.state.name})\n        this.props.onSubmit()\n    }\n        else{\n            console.log(\"Plates do not match\")\n        }\n    }\n\n    deactivatetemHandler = async() => {\n        let deactivate = await Axios.put('/api/edit/deactivateHighRisk', {\n                id: this.state.id \n            })\n        console.log(deactivate)\n        this.setState({showDeactivateModal: false})\n        this.setState({showSuccess: true})\n        this.setState({display:false})\n\n        this.props.onSubmit()\n    }\n\n    nameChangeHandler = (event) => {\n        this.setState({name: event.target.value}) \n    }\n\n    typeChangeHandler = (event) => {\n      this.setState({type: event.target.value})\n    }\n\n    plateChangeHandler = (event) => {\n      this.setState({plateNumber: event.target.value}) \n    }\n\n    confirmPlateChangeHandler = (event) => {\n      this.setState({confirmPlate: event.target.value})\n    }   \n\n    render(){\n\n    let successSnack = this.state.showSuccess ? <Snack activate={true} message=\"Plate successfully edited\"></Snack> : null\n    \n    return(\n        <div>\n            <Modal \n            shouldOpen={this.props.showEditModal}\n            title=\"Edit Plate\">\n                <div>Name: <TextField style={{marginLeft: '20px'}} onChange = {this.nameChangeHandler} value={this.state.name}></TextField></div>\n                <div>Threat Type: <TextField style={{marginLeft: '20px'}} onChange = {this.typeChangeHandler} value={this.state.type}></TextField></div>\n                <div>Plate Number: <TextField style={{marginLeft: '20px'}} onChange = {this.plateChangeHandler} value={this.state.plateNumber}></TextField></div>\n                <div>Confirm Plate Number: <TextField style={{marginLeft: '20px'}} onChange = {this.confirmPlateChangeHandler} value={this.state.confirmPlate}></TextField></div>\n                <div style={{marginTop: '20px'}}>\n                    <Button variant = \"outlined\" onClick = {this.editItemHandler} style={{marginTop: '0px'}}>\n                        Confirm Edit\n                    </Button>\n                    <Button variant = \"outlined\" onClick = {this.props.onCancel} style={{marginTop: '0px', marginLeft: '20px'}}>\n                        Cancel\n                    </Button>\n                </div>\n            </Modal>\n            <Modal \n            shouldOpen={this.props.showDeactivateModal}\n            title=\"Confirm Deactivation\">\n                <p>Are you sure you wish to deactivate this plate? Deactivation means cameras will no longer recognize this plate, and it will be removed from the 'active plates' section. Please confirm this action.</p>\n                <div>\n                    <Button variant = \"outlined\" onClick = {this.deactivatetemHandler} style={{marginTop: '20px'}}>\n                        Confirm Deactivation\n                    </Button>\n                    <Button variant = \"outlined\" onClick = {this.props.onCancel} style={{marginTop: '20px', marginLeft: '20px'}}>\n                        Cancel\n                    </Button>\n                </div>\n            </Modal>\n        {successSnack}\n        </div>\n    )}\n}\n\nexport default myModal"]},"metadata":{},"sourceType":"module"}