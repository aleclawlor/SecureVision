{"ast":null,"code":"var _jsxFileName = \"/Users/aleclawlor/SecureVision/client/src/components/activePlatesFeed/plateFeedItem.js\";\nimport React, { Component } from 'react';\nimport Modal from '../material/modal';\nimport Snack from '../snackbar/snackbar';\nimport Button from '@material-ui/core/Button';\nimport { TextField } from '@material-ui/core';\n\nconst Axios = require('axios');\n\nlet editDltStyle = {\n  float: \"right\",\n  marginRight: \"20px\",\n  'p:hover': 'cursor: crosshair'\n};\n\nclass feedItem extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showEditModal: false,\n      showDeactivateModal: false,\n      parentName: this.props.parentName,\n      studentName: this.props.studentName,\n      plateNumber: this.props.plateNumber,\n      confirmPlate: this.props.plateNumber,\n      oldParent: this.props.parentName,\n      oldPlate: this.props.plateNumber,\n      id: this.props.id,\n      showSuccess: false,\n      display: true\n    };\n\n    this.openEditModal = () => {\n      console.log('open pls');\n      this.setState({\n        showEditModal: true\n      });\n    };\n\n    this.openDeactivateModal = () => {\n      console.log('open pls');\n      this.setState({\n        showDeactivateModal: true\n      });\n    };\n\n    this.handleEditModalClose = () => {\n      this.setState({\n        showEditModal: false\n      });\n    };\n\n    this.handleDeactivateModalClose = () => {\n      this.setState({\n        showDeactivateModal: false\n      });\n    };\n\n    this.editItemHandler = async () => {\n      if (this.state.plateNumber === this.state.confirmPlate) {\n        let editItem = await Axios.put('/api/edit/editPlate', {\n          id: this.state.id,\n          parentName: this.state.parentName,\n          studentName: this.state.studentName,\n          plateNumber: this.state.plateNumber\n        });\n        console.log(editItem);\n        this.setState({\n          showEditModal: false\n        });\n        this.setState({\n          showSuccess: true,\n          oldPlate: this.state.plateNumber,\n          oldParent: this.state.parentName\n        });\n      } else {\n        console.log(\"Plates do not match\");\n      }\n    };\n\n    this.deactivatetemHandler = async () => {\n      let deactivate = await Axios.put('/api/edit/deactivate', {\n        id: this.state.id\n      });\n      console.log(deactivate);\n      this.setState({\n        showDeactivateModal: false\n      });\n      this.setState({\n        showSuccess: true\n      });\n      this.setState({\n        display: false\n      });\n    };\n\n    this.parentNameChangeHandler = event => {\n      this.setState({\n        parentName: event.target.value\n      });\n    };\n\n    this.studentNameChangeHandler = event => {\n      this.setState({\n        studentName: event.target.value\n      });\n    };\n\n    this.plateChangeHandler = event => {\n      this.setState({\n        plateNumber: event.target.value\n      });\n    };\n\n    this.confirmPlateChangeHandler = event => {\n      this.setState({\n        confirmPlate: event.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n  }\n\n  render() {\n    let feedItemStyle;\n    let successSnack = this.state.showSuccess ? React.createElement(Snack, {\n      activate: true,\n      message: \"Plate successfully edited\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }) : null;\n    feedItemStyle = this.state.display ? {\n      width: '100%',\n      height: '55px',\n      border: '.2px solid #333',\n      backgroundColor: 'rgba(0, 0, 0, .05)',\n      borderRadius: '5px',\n      color: '#333',\n      fontSize: '18px',\n      marginTop: '10px'\n    } : {\n      display: 'none'\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: feedItemStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        float: \"left\",\n        marginLeft: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, this.state.oldPlate), React.createElement(\"p\", {\n      style: {\n        float: \"left\",\n        marginLeft: '40px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.state.oldParent), React.createElement(\"p\", {\n      style: editDltStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-minus-circle\",\n      onClick: () => this.openDeactivateModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      style: editDltStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-pen\",\n      onClick: () => this.openEditModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })), React.createElement(Modal, {\n      shouldOpen: this.state.showEditModal,\n      title: \"Edit Plate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Parent Name: \", React.createElement(TextField, {\n      style: {\n        marginLeft: '20px'\n      },\n      onChange: this.parentNameChangeHandler,\n      value: this.state.parentName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Student Name: \", React.createElement(TextField, {\n      style: {\n        marginLeft: '20px'\n      },\n      onChange: this.studentNameChangeHandler,\n      value: this.state.studentName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Plate Number: \", React.createElement(TextField, {\n      style: {\n        marginLeft: '20px'\n      },\n      onChange: this.plateChangeHandler,\n      value: this.state.plateNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Confirm Plate Number: \", React.createElement(TextField, {\n      style: {\n        marginLeft: '20px'\n      },\n      onChange: this.confirmPlateChangeHandler,\n      value: this.state.confirmPlate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.editItemHandler,\n      style: {\n        marginTop: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Confirm Edit\"), React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.handleEditModalClose,\n      style: {\n        marginTop: '0px',\n        marginLeft: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Cancel\"))), React.createElement(Modal, {\n      shouldOpen: this.state.showDeactivateModal,\n      title: \"Confirm Deactivation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Are you sure you wish to deactivate this plate? Deactivation means cameras will no longer recognize this plate, and it will be removed from the 'active plates' section. Please confirm this action.\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.deactivatetemHandler,\n      style: {\n        marginTop: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Confirm Deactivation\"), React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.handleDeactivateModalClose,\n      style: {\n        marginTop: '20px',\n        marginLeft: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Cancel\")))), successSnack);\n  }\n\n}\n\nexport default feedItem;","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/client/src/components/activePlatesFeed/plateFeedItem.js"],"names":["React","Component","Modal","Snack","Button","TextField","Axios","require","editDltStyle","float","marginRight","feedItem","state","showEditModal","showDeactivateModal","parentName","props","studentName","plateNumber","confirmPlate","oldParent","oldPlate","id","showSuccess","display","openEditModal","console","log","setState","openDeactivateModal","handleEditModalClose","handleDeactivateModalClose","editItemHandler","editItem","put","deactivatetemHandler","deactivate","parentNameChangeHandler","event","target","value","studentNameChangeHandler","plateChangeHandler","confirmPlateChangeHandler","componentDidMount","render","feedItemStyle","successSnack","width","height","border","backgroundColor","borderRadius","color","fontSize","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Modal from '../material/modal'\nimport Snack from '../snackbar/snackbar'\nimport Button from '@material-ui/core/Button'\nimport { TextField } from '@material-ui/core'\n\nconst Axios = require('axios')\n\nlet editDltStyle = {\n    float: \"right\", \n    marginRight: \"20px\",\n    'p:hover': 'cursor: crosshair'\n}\n\nclass feedItem extends Component {\n\n    state = {\n        showEditModal: false, \n        showDeactivateModal: false,\n        parentName: this.props.parentName,\n        studentName: this.props.studentName,\n        plateNumber: this.props.plateNumber,\n        confirmPlate: this.props.plateNumber,\n        oldParent: this.props.parentName, \n        oldPlate: this.props.plateNumber,\n        id: this.props.id,\n        showSuccess: false,\n        display: true\n    }\n\n    componentDidMount(){\n        console.log(this.props)\n    }\n\n    openEditModal = () => {\n        console.log('open pls')\n          this.setState({showEditModal: true})\n    }\n\n    openDeactivateModal = () => {\n        console.log('open pls')\n          this.setState({showDeactivateModal: true})\n    }\n\n    handleEditModalClose = () => {\n        this.setState({showEditModal: false})\n        \n    }\n    \n    handleDeactivateModalClose = () => {\n        this.setState({showDeactivateModal: false})\n    }\n\n    editItemHandler = async() => {\n        if(this.state.plateNumber === this.state.confirmPlate){\n        let editItem = await Axios.put('/api/edit/editPlate', {\n                id: this.state.id, \n                parentName: this.state.parentName,\n                studentName: this.state.studentName,\n                plateNumber: this.state.plateNumber\n            })\n        console.log(editItem)\n        this.setState({\n            showEditModal: false\n        })\n        this.setState({showSuccess: true, oldPlate: this.state.plateNumber, oldParent: this.state.parentName})}\n        else{\n            console.log(\"Plates do not match\")\n        }\n    }\n\n    deactivatetemHandler = async() => {\n        let deactivate = await Axios.put('/api/edit/deactivate', {\n                id: this.state.id \n            })\n        console.log(deactivate)\n        this.setState({showDeactivateModal: false})\n        this.setState({showSuccess: true})\n        this.setState({display:false})\n    }\n\n    parentNameChangeHandler = (event) => {\n        this.setState({parentName: event.target.value}) \n    }\n\n    studentNameChangeHandler = (event) => {\n      this.setState({studentName: event.target.value})\n    }\n\n    plateChangeHandler = (event) => {\n      this.setState({plateNumber: event.target.value}) \n    }\n\n    confirmPlateChangeHandler = (event) => {\n      this.setState({confirmPlate: event.target.value})\n    }   \n\n    render(){\n\n    let feedItemStyle\n    let successSnack = this.state.showSuccess ? <Snack activate={true} message=\"Plate successfully edited\"></Snack> : null\n    \n    feedItemStyle = this.state.display ? {\n        width: '100%',\n        height: '55px',\n        border: '.2px solid #333',\n        backgroundColor: 'rgba(0, 0, 0, .05)',\n        borderRadius: '5px',\n        color: '#333',\n        fontSize: '18px',\n        marginTop: '10px'\n    } : {display: 'none'}\n    \n    return(\n        <div>\n        <div style = {feedItemStyle}>\n            <p style={{float: \"left\", marginLeft: '20px'}}>{this.state.oldPlate}</p>\n            <p style={{float: \"left\", marginLeft: '40px'}}>{this.state.oldParent}</p>\n            <p style={editDltStyle}><i className={\"fas fa-minus-circle\"} onClick={() => this.openDeactivateModal()}></i></p>\n            <p style={editDltStyle}><i className={\"fas fa-pen\"} onClick={() => this.openEditModal()}></i></p>\n            <Modal \n            shouldOpen={this.state.showEditModal}\n            title=\"Edit Plate\">\n                <div>Parent Name: <TextField style={{marginLeft: '20px'}} onChange = {this.parentNameChangeHandler} value={this.state.parentName}></TextField></div>\n                <div>Student Name: <TextField style={{marginLeft: '20px'}} onChange = {this.studentNameChangeHandler} value={this.state.studentName}></TextField></div>\n                <div>Plate Number: <TextField style={{marginLeft: '20px'}} onChange = {this.plateChangeHandler} value={this.state.plateNumber}></TextField></div>\n                <div>Confirm Plate Number: <TextField style={{marginLeft: '20px'}} onChange = {this.confirmPlateChangeHandler} value={this.state.confirmPlate}></TextField></div>\n                <div>\n                    <Button variant = \"outlined\" onClick = {this.editItemHandler} style={{marginTop: '0px'}}>\n                        Confirm Edit\n                    </Button>\n                    <Button variant = \"outlined\" onClick = {this.handleEditModalClose} style={{marginTop: '0px', marginLeft: '20px'}}>\n                        Cancel\n                    </Button>\n                </div>\n            </Modal>\n            <Modal \n            shouldOpen={this.state.showDeactivateModal}\n            title=\"Confirm Deactivation\">\n                <p>Are you sure you wish to deactivate this plate? Deactivation means cameras will no longer recognize this plate, and it will be removed from the 'active plates' section. Please confirm this action.</p>\n                <div>\n                    <Button variant = \"outlined\" onClick = {this.deactivatetemHandler} style={{marginTop: '20px'}}>\n                        Confirm Deactivation\n                    </Button>\n                    <Button variant = \"outlined\" onClick = {this.handleDeactivateModalClose} style={{marginTop: '20px', marginLeft: '20px'}}>\n                        Cancel\n                    </Button>\n                </div>\n            </Modal>\n        </div>\n        {successSnack}\n        </div>\n    )}\n}\n\nexport default feedItem "]},"metadata":{},"sourceType":"module"}