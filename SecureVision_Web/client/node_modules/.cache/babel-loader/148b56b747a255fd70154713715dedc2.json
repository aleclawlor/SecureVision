{"ast":null,"code":"var _jsxFileName = \"/Users/aleclawlor/SecureVision/client/src/components/registerNewPlate/registerHighRisk.js\";\nimport React, { useState, Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Modal from '../material/modal';\nimport Snack from '../snackbar/snackbar';\n\nconst Axios = require('axios'); // Material component styling \n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    left: 0,\n    zIndex: '100',\n    height: 500,\n    position: 'relative',\n    width: '100%',\n    flexGrow: 1,\n    minWidth: 300,\n    transform: 'translateZ(0)',\n    // The position fixed scoping doesn't work in IE 11.\n    // Disable this demo to preserve the others.\n    '@media all and (-ms-high-contrast: none)': {\n      display: 'none'\n    }\n  },\n  modal: {\n    display: 'flex',\n    padding: theme.spacing(1),\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#AAAAAA'\n  },\n  paper: {\n    width: 900,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    backgroundColor: '#AAAAAA'\n  },\n  form: {\n    padding: '15px',\n    lineHeight: '20px',\n    display: 'table'\n  },\n  label: {\n    marginBottom: '10px'\n  }\n}));\nconst accentColor = '#1C63CD';\nconst primaryColor = '2D2D2D'; // modal to register a new high risk plate \n\nclass RegisterModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      type: '',\n      plate: '',\n      confirmPlate: '',\n      showModal: false,\n      showRegError: false,\n      showSuccess: false\n    };\n\n    this.showModal = () => {\n      if (this.validateRegistry()) {\n        this.setState({\n          showModal: true\n        });\n        this.setState({\n          showRegError: false\n        });\n      } else {\n        this.setState({\n          showRegError: true\n        });\n      }\n    };\n\n    this.submitHandler = () => {\n      const id = JSON.parse(localStorage.getItem('userObj'))._id;\n\n      console.log(id); // check that information entered is valid so it can be posted to db \n\n      if (this.validateRegistry()) {\n        this.setState({\n          showRegError: false\n        }); // submit to database on backend \n\n        let submit = Axios.post('/api/registration/highRiskRegistration', {\n          name: this.state.name,\n          type: this.state.type,\n          plateNumber: this.state.plate,\n          isActive: true,\n          id: id\n        }).catch(e => console.log(e));\n        console.log(submit);\n      }\n\n      console.log(\"User added\");\n      this.setState({\n        showSuccess: true\n      });\n      this.setState({\n        showModal: false,\n        showRegError: false,\n        name: '',\n        type: '',\n        plate: '',\n        confirmPlate: ''\n      });\n    };\n\n    this.nameChangeHandler = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.typeChangeHandler = event => {\n      this.setState({\n        type: event.target.value\n      });\n    };\n\n    this.plateChangeHandler = event => {\n      this.setState({\n        plate: event.target.value\n      });\n    };\n\n    this.confirmPlateChangeHandler = event => {\n      this.setState({\n        confirmPlate: event.target.value\n      });\n    };\n\n    this.validateRegistry = () => {\n      return this.state.plate === this.state.confirmPlate & this.state.name !== \"\" & this.state.type !== \"\" & this.state.plate !== \"\";\n    };\n\n    this.cancelHandler = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n  }\n\n  render() {\n    console.log(this.props.schoolID);\n    let errorSnack = this.state.showRegError ? /*#__PURE__*/React.createElement(Snack, {\n      activate: this.state.showRegError,\n      message: \"Please enter valid registration\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 46\n      }\n    }) : null;\n    let successSnack = this.state.showSuccess ? /*#__PURE__*/React.createElement(Snack, {\n      activate: true,\n      message: \"Plate successfully added!\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 47\n      }\n    }) : null;\n    const cellStyle = {\n      marginTop: '10px',\n      width: '400px',\n      marginLeft: '5%'\n    };\n    const {\n      classes\n    } = this.props;\n    const fieldStyle = {\n      width: '100%',\n      marginTop: '5px',\n      marginBottom: '5px'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '25%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"server-modal-title\",\n      style: {\n        float: 'left',\n        marginLeft: '30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, \"Register New High Risk\"), /*#__PURE__*/React.createElement(\"form\", {\n      style: {\n        width: '500px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.label,\n      style: cellStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      style: fieldStyle,\n      value: this.state.name,\n      id: \"1\",\n      label: \"Name\",\n      variant: \"outlined\",\n      color: accentColor,\n      onChange: this.nameChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.label,\n      style: cellStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      style: fieldStyle,\n      value: this.state.type,\n      id: \"2\",\n      label: \"Threat Type\",\n      variant: \"outlined\",\n      color: accentColor,\n      onChange: this.typeChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.label,\n      style: cellStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      style: fieldStyle,\n      value: this.state.plate,\n      id: \"3\",\n      label: \"Plate number\",\n      variant: \"outlined\",\n      color: accentColor,\n      onChange: this.plateChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.label,\n      style: cellStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      style: fieldStyle,\n      value: this.state.confirmPlate,\n      id: \"4\",\n      label: \"Confirm plate number\",\n      variant: \"outlined\",\n      color: accentColor,\n      onChange: this.confirmPlateChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.label,\n      style: cellStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.showModal,\n      style: {\n        float: 'left',\n        marginLeft: '25px',\n        marginTop: '20px',\n        color: accentColor,\n        border: accentColor,\n        outline: accentColor,\n        fontWeight: 550\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }\n    }, \"Add user\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.props.onReturn,\n      style: {\n        float: 'left',\n        marginLeft: '5px',\n        marginTop: '20px',\n        color: accentColor,\n        border: accentColor,\n        outline: accentColor,\n        fontWeight: 550\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n      shouldOpen: this.state.showModal,\n      title: \"Confirm Registry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, \"Name: \", this.state.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    }, \"Threat Type: \", this.state.type), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, \"Plate Number: \", this.state.plate), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.submitHandler,\n      style: {\n        marginTop: '20px',\n        color: accentColor,\n        border: accentColor,\n        outline: accentColor,\n        fontWeight: 550\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, \"Confirm Add Plate\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.cancelHandler,\n      style: {\n        marginTop: '20px',\n        marginLeft: '20px',\n        color: accentColor,\n        border: accentColor,\n        outline: accentColor,\n        fontWeight: 550\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    }, \"Cancel\"))), errorSnack, successSnack));\n  }\n\n}\n\nexport default withStyles(useStyles)(RegisterModal);","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/client/src/components/registerNewPlate/registerHighRisk.js"],"names":["React","useState","Component","makeStyles","withStyles","TextField","Button","Modal","Snack","Axios","require","useStyles","theme","root","left","zIndex","height","position","width","flexGrow","minWidth","transform","display","modal","padding","spacing","alignItems","justifyContent","backgroundColor","paper","palette","background","border","boxShadow","shadows","form","lineHeight","label","marginBottom","accentColor","primaryColor","RegisterModal","state","name","type","plate","confirmPlate","showModal","showRegError","showSuccess","validateRegistry","setState","submitHandler","id","JSON","parse","localStorage","getItem","_id","console","log","submit","post","plateNumber","isActive","catch","e","nameChangeHandler","event","target","value","typeChangeHandler","plateChangeHandler","confirmPlateChangeHandler","cancelHandler","render","props","schoolID","errorSnack","successSnack","cellStyle","marginTop","marginLeft","classes","fieldStyle","float","color","outline","fontWeight","onReturn"],"mappings":"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","sourcesContent":["import React, {useState, Component} from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button'\nimport Modal from '../material/modal'\nimport Snack from '../snackbar/snackbar'\n\nconst Axios = require('axios')\n\n// Material component styling \nconst useStyles = makeStyles(theme => ({\n  root: {\n    left: 0,\n    zIndex: '100',\n    height: 500,\n    position: 'relative',\n    width: '100%',\n    flexGrow: 1,\n    minWidth: 300,\n    transform: 'translateZ(0)',\n    // The position fixed scoping doesn't work in IE 11.\n    // Disable this demo to preserve the others.\n    '@media all and (-ms-high-contrast: none)': {\n      display: 'none',\n    },\n  },\n  modal: {\n    display: 'flex',\n    padding: theme.spacing(1),\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#AAAAAA'\n  },\n  paper: {\n    width: 900,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    backgroundColor: '#AAAAAA'\n  },\n  form:{\n      padding: '15px',\n      lineHeight: '20px',\n      display: 'table'\n  },\n  label:{\n      marginBottom: '10px',\n  }\n}));\n\nconst accentColor = '#1C63CD'\nconst primaryColor = '2D2D2D'\n\n// modal to register a new high risk plate \nclass RegisterModal extends Component{\n  \n  state = {\n    name: '',\n    type: '',\n    plate: '',\n    confirmPlate: '',\n    showModal: false,\n    showRegError: false,\n    showSuccess: false \n  }\n\n  // render the modal \n  showModal = () => {\n\n    if(this.validateRegistry()){\n      this.setState({showModal: true})\n      this.setState({showRegError: false})\n    }\n\n    else{\n      this.setState({showRegError: true})\n    }\n  }\n\n  // try to submit the current info entered \n  submitHandler = () => {\n\n        const id = JSON.parse(localStorage.getItem('userObj'))._id\n        console.log(id)\n\n        // check that information entered is valid so it can be posted to db \n        if(this.validateRegistry()){\n          this.setState({showRegError: false})\n\n          // submit to database on backend \n          let submit = Axios.post('/api/registration/highRiskRegistration',{\n            name: this.state.name,\n            type: this.state.type,\n            plateNumber: this.state.plate,\n            isActive: true ,\n            id: id \n          }).catch((e) => console.log(e))\n          \n          console.log(submit)\n        }\n        console.log(\"User added\")\n\n        this.setState({showSuccess: true})\n        this.setState({showModal: false, showRegError: false, name: '', type: '', plate: '', confirmPlate: ''})\n    } \n\n    // changed text field information \n    nameChangeHandler = (event) => {\n        this.setState({name: event.target.value}) \n    }\n\n    typeChangeHandler = (event) => {\n      this.setState({type: event.target.value})\n    }\n\n    plateChangeHandler = (event) => {\n      this.setState({plate: event.target.value}) \n    }\n\n    confirmPlateChangeHandler = (event) => {\n      this.setState({confirmPlate: event.target.value})\n    }\n\n    // check that input fields are not blank and plate entries match \n    validateRegistry = () => {\n        return((this.state.plate === this.state.confirmPlate) & (this.state.name !== \"\") & (this.state.type !== \"\") & (this.state.plate !== \"\"))\n    }\n\n    cancelHandler = () => {\n      this.setState({showModal: false})\n    }\n    \n\n  render(){\n  \n  console.log(this.props.schoolID)\n\n  let errorSnack = this.state.showRegError ? <Snack activate={this.state.showRegError} message=\"Please enter valid registration\"></Snack> : null\n  let successSnack = this.state.showSuccess ? <Snack activate={true} message=\"Plate successfully added!\"></Snack> : null\n\n  const cellStyle = {\n    marginTop: '10px',\n    width: '400px',\n    marginLeft: '5%'\n  }\n\n  const {classes} = this.props;\n\n  const fieldStyle = {width: '100%', marginTop: '5px', marginBottom: '5px'}\n\n  return (\n    <div>\n      <div style={{marginLeft: '25%'}}>\n        <h1 id=\"server-modal-title\" style={{float: 'left', marginLeft: '30px'}}>Register New High Risk</h1>\n        <form style={{width: '500px'}}>\n        <label className = {classes.label} style={cellStyle}>\n            <TextField\n            style={fieldStyle}\n            value = {this.state.name}\n            id=\"1\"\n            label=\"Name\"\n            variant=\"outlined\"\n            color={accentColor}\n            onChange = {this.nameChangeHandler}\n            />\n        </label>\n        <label className = {classes.label} style={cellStyle}>\n            <TextField\n              style={fieldStyle}\n                value = {this.state.type}\n                id=\"2\"\n                label=\"Threat Type\"\n                variant=\"outlined\"\n                color={accentColor}\n                onChange = {this.typeChangeHandler}\n            />\n        </label>\n        <label className = {classes.label} style={cellStyle}>\n            <TextField\n                style={fieldStyle}\n                value = {this.state.plate}\n                id=\"3\"\n                label=\"Plate number\"\n                variant=\"outlined\"\n                color={accentColor}\n                onChange = {this.plateChangeHandler}\n            />\n        </label>\n        <label className = {classes.label} style={cellStyle}>\n            <TextField\n                style={fieldStyle}\n                value = {this.state.confirmPlate}\n                id=\"4\"\n                label=\"Confirm plate number\"\n                variant=\"outlined\"\n                color={accentColor}\n                onChange = {this.confirmPlateChangeHandler}\n            />\n        </label>\n        <label className = {classes.label} style={cellStyle}>\n            <Button variant = \"outlined\" onClick = {this.showModal} style={{float: 'left', marginLeft: '25px', marginTop: '20px', color: accentColor, border: accentColor, outline: accentColor, fontWeight: 550}}>\n                Add user\n            </Button>\n            <Button variant = \"outlined\" onClick = {this.props.onReturn} style={{float: 'left', marginLeft: '5px', marginTop: '20px', color: accentColor, border: accentColor, outline: accentColor, fontWeight: 550}}>\n                Cancel\n            </Button>\n        </label>\n        </form>\n        <Modal \n          shouldOpen={this.state.showModal}\n          title=\"Confirm Registry\">\n            <p>Name: {this.state.name}</p>\n            <p>Threat Type: {this.state.type}</p>\n            <p>Plate Number: {this.state.plate}</p>\n            <div>\n              <Button variant = \"outlined\" onClick = {this.submitHandler} style={{marginTop: '20px', color: accentColor, border: accentColor, outline: accentColor, fontWeight: 550}}>\n                  Confirm Add Plate\n              </Button>\n              <Button variant = \"outlined\" onClick = {this.cancelHandler} style={{marginTop: '20px', marginLeft: '20px', color: accentColor, border: accentColor, outline: accentColor, fontWeight: 550}}>\n                  Cancel\n              </Button>\n            </div>\n        </Modal>\n        {errorSnack}\n        {successSnack}\n        </div>\n    </div>\n  )};\n}\n\nexport default withStyles(useStyles)(RegisterModal)"]},"metadata":{},"sourceType":"module"}