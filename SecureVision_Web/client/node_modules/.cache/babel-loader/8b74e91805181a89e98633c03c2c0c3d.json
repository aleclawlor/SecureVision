{"ast":null,"code":"var _jsxFileName = \"/Users/aleclawlor/SecureVision/client/src/components/configuration/lprConfig.js\";\nimport React, { Component, createRef } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ReactPlayer from 'react-player';\nimport Axios from 'axios';\nconst classes = {\n  returnArrow: {\n    fontSize: '40px',\n    position: 'absolute',\n    marginTop: '30px'\n  },\n  buttonsArea: {\n    width: '80%',\n    overflow: 'scroll',\n    height: '80px',\n    marginTop: '50px'\n  },\n  canvasArea: {\n    width: '100%',\n    height: '400px',\n    display: 'flex',\n    // backgroundColor: '#333',\n    textAlign: 'center',\n    justifyContent: 'center',\n    marginTop: '5px',\n    position: 'absolute'\n  },\n  canvas: {\n    backgroundColor: 'rgba(0, 0, 0, .05)',\n    width: '80%'\n  },\n  buttonStyling: {\n    marginLeft: '20px',\n    marginRight: '20px'\n  },\n  configButtons: {\n    width: '20%',\n    height: '100%',\n    textAlign: 'left'\n  }\n};\n\nclass LprConfig extends Component {\n  constructor(...args) {\n    super(...args);\n    this.canvasWidth = 200;\n    this.canvasHeight = 200;\n    this.state = {\n      currentSource: null,\n      camerasList: null,\n      videoSource: null,\n      currentPointsObject: {\n        x0: 0,\n        y0: 0,\n        width: 0,\n        height: 0\n      }\n    };\n    this.canvasRef = createRef();\n    this.videoRef = createRef();\n  }\n\n  componentDidMount() {\n    let source;\n    Axios.get('/api/cameras/getCameras').then(data => {\n      source = data.data[0].source;\n      this.setState({\n        camerasList: data.data,\n        currentSource: data.data[0].source\n      });\n      console.log(data);\n    }).catch(err => {\n      console.log(err);\n    });\n    const canvas = this.canvasRef.current;\n    const context = canvas.getContext('2d');\n    const video = document.createElement('video');\n    video.src = {\n      source\n    };\n    this.setState({\n      currentPointsObject: {\n        x0: canvas.width / 2 - 50,\n        y0: canvas.height / 2 - 50,\n        width: 100,\n        height: 100\n      }\n    });\n  }\n\n  componentDidUpdate() {\n    let curr_src = this.state.currentSource;\n    const canvas = this.canvasRef.current;\n    canvas.addEventListener('mousedown', e => console.log(e));\n    const ctx = canvas.getContext('2d');\n    ctx.strokeStyle = '#000';\n    const canvasWidth = canvas.width;\n    this.canvasWidth = canvasWidth;\n    const canvasHeight = canvas.height;\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n    ctx.fill();\n    let {\n      x0,\n      y0,\n      width,\n      height\n    } = this.state.currentPointsObject;\n    let vid = document.getElementById('vid');\n    ctx.drawImage(vid, 0, 0, canvasWidth, canvasHeight);\n    ctx.strokeRect(x0, y0, width, height);\n    ctx.save();\n  }\n\n  render() {\n    console.log(this.state.currentSource);\n    let buttons = this.state.camerasList ? this.state.camerasList.map((data, index) => {\n      return data.isActive ? /*#__PURE__*/React.createElement(Button, {\n        style: classes.buttonStyling,\n        key: index,\n        onClick: () => {\n          this.setState({\n            currentSource: data.source\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }, data.name) : null;\n    }) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"Configure License Plate Detection Zone\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"Select a camera feed to configure its license plate detection area. Only license plates within the desingated box will be detected.\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: classes.buttonsArea,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, buttons), /*#__PURE__*/React.createElement(\"div\", {\n      style: classes.canvasArea,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"canvas\", {\n      style: classes.canvas,\n      ref: this.canvasRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"video\", {\n      ref: \"video\",\n      id: \"vid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: classes.configButtons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        const x0 = this.state.currentPointsObject.x0;\n        const y0 = this.state.currentPointsObject.y0 - 3;\n        const width = this.state.currentPointsObject.width;\n        const height = this.state.currentPointsObject.height;\n        const coordsObj = {\n          x0: x0,\n          y0: y0,\n          width: width,\n          height: height\n        };\n        this.setState({\n          currentPointsObject: coordsObj\n        });\n      },\n      style: {\n        textAlign: 'left',\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"Vertical Up\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        const x0 = this.state.currentPointsObject.x0;\n        const y0 = this.state.currentPointsObject.y0 + 3;\n        const width = this.state.currentPointsObject.width;\n        const height = this.state.currentPointsObject.height;\n        const coordsObj = {\n          x0: x0,\n          y0: y0,\n          width: width,\n          height: height\n        };\n        this.setState({\n          currentPointsObject: coordsObj\n        });\n      },\n      style: {\n        textAlign: 'left',\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"Vertical Down\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        const x0 = this.state.currentPointsObject.x0 - 3;\n        const y0 = this.state.currentPointsObject.y0;\n        const width = this.state.currentPointsObject.width;\n        const height = this.state.currentPointsObject.height;\n        const coordsObj = {\n          x0: x0,\n          y0: y0,\n          width: width,\n          height: height\n        };\n        this.setState({\n          currentPointsObject: coordsObj\n        });\n      },\n      style: {\n        textAlign: 'left',\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, \"Horizontal Left\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        const x0 = this.state.currentPointsObject.x0 + 3;\n        const y0 = this.state.currentPointsObject.y0;\n        const width = this.state.currentPointsObject.width;\n        const height = this.state.currentPointsObject.height;\n        const coordsObj = {\n          x0: x0,\n          y0: y0,\n          width: width,\n          height: height\n        };\n        this.setState({\n          currentPointsObject: coordsObj\n        });\n      },\n      style: {\n        textAlign: 'left',\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, \"Horizontal Right\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        const x0 = this.state.currentPointsObject.x0;\n        const y0 = this.state.currentPointsObject.y0;\n        const width = this.state.currentPointsObject.width + 3;\n        const height = this.state.currentPointsObject.height;\n        const coordsObj = {\n          x0: x0,\n          y0: y0,\n          width: width,\n          height: height\n        };\n        this.setState({\n          currentPointsObject: coordsObj\n        });\n      },\n      style: {\n        textAlign: 'left',\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, \"Expand Width\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        const x0 = this.state.currentPointsObject.x0;\n        const y0 = this.state.currentPointsObject.y0;\n        const width = this.state.currentPointsObject.width - 3;\n        const height = this.state.currentPointsObject.height;\n        const coordsObj = {\n          x0: x0,\n          y0: y0,\n          width: width,\n          height: height\n        };\n        this.setState({\n          currentPointsObject: coordsObj\n        });\n      },\n      style: {\n        textAlign: 'left',\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }\n    }, \"Minimize Width\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        const x0 = this.state.currentPointsObject.x0;\n        const y0 = this.state.currentPointsObject.y0;\n        const width = this.state.currentPointsObject.width;\n        const height = this.state.currentPointsObject.height + 3;\n        const coordsObj = {\n          x0: x0,\n          y0: y0,\n          width: width,\n          height: height\n        };\n        this.setState({\n          currentPointsObject: coordsObj\n        });\n      },\n      style: {\n        textAlign: 'left',\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    }, \"Expand Height\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        const x0 = this.state.currentPointsObject.x0;\n        const y0 = this.state.currentPointsObject.y0;\n        const width = this.state.currentPointsObject.width;\n        const height = this.state.currentPointsObject.height - 3;\n        const coordsObj = {\n          x0: x0,\n          y0: y0,\n          width: width,\n          height: height\n        };\n        this.setState({\n          currentPointsObject: coordsObj\n        });\n      },\n      style: {\n        textAlign: 'left',\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }\n    }, \"Minimize Height\"))), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/dashboard/configuration\",\n      style: {\n        textDecoration: 'none',\n        color: '#000'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"material-icons\",\n      style: classes.returnArrow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }\n    }, \"arrow_back\")));\n  }\n\n}\n\nexport default LprConfig;","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/client/src/components/configuration/lprConfig.js"],"names":["React","Component","createRef","Button","ReactPlayer","Axios","classes","returnArrow","fontSize","position","marginTop","buttonsArea","width","overflow","height","canvasArea","display","textAlign","justifyContent","canvas","backgroundColor","buttonStyling","marginLeft","marginRight","configButtons","LprConfig","canvasWidth","canvasHeight","state","currentSource","camerasList","videoSource","currentPointsObject","x0","y0","canvasRef","videoRef","componentDidMount","source","get","then","data","setState","console","log","catch","err","current","context","getContext","video","document","createElement","src","componentDidUpdate","curr_src","addEventListener","e","ctx","strokeStyle","clearRect","fill","vid","getElementById","drawImage","strokeRect","save","render","buttons","map","index","isActive","name","coordsObj","marginBottom","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { Component, createRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport ReactPlayer from 'react-player'\nimport Axios from 'axios'\n\nconst classes = {\n    returnArrow: {\n        fontSize: '40px',\n        position: 'absolute',\n        marginTop: '30px'\n    },\n    buttonsArea: {\n        width: '80%',\n        overflow: 'scroll',\n        height: '80px',\n        marginTop: '50px'\n    },\n    canvasArea: {\n        width: '100%',\n        height: '400px',\n        display: 'flex',\n        // backgroundColor: '#333',\n        textAlign: 'center',\n        justifyContent: 'center',\n        marginTop: '5px',\n        position: 'absolute'\n    },\n    canvas: {\n        backgroundColor: 'rgba(0, 0, 0, .05)',\n        width: '80%'\n    },\n    buttonStyling: {\n        marginLeft: '20px',\n        marginRight: '20px'\n    },\n    configButtons: {\n        width: '20%',\n        height: '100%',\n        textAlign: 'left',\n    }\n}\n\nclass LprConfig extends Component{\n\n    canvasWidth = 200\n    canvasHeight = 200\n\n    state = {\n        currentSource: null,\n        camerasList: null,\n        videoSource: null,\n        currentPointsObject: {\n            x0: 0,\n            y0: 0, \n            width: 0, \n            height: 0\n        },\n    }\n\n    canvasRef = createRef() \n    videoRef = createRef()\n\n    componentDidMount(){\n\n        let source \n\n        Axios.get('/api/cameras/getCameras')\n        .then(data => {\n\n            source = data.data[0].source\n\n            this.setState({camerasList: data.data, currentSource: data.data[0].source})\n            console.log(data)\n        }).catch(err => {\n            console.log(err)\n        })\n\n        const canvas = this.canvasRef.current\n        const context = canvas.getContext('2d')\n\n        const video = document.createElement('video')\n        video.src = {source}\n\n        this.setState({currentPointsObject: {\n            x0: canvas.width/2 - 50,\n            y0: canvas.height/2 - 50, \n            width:  100, \n            height: 100\n        }})\n    }\n\n    componentDidUpdate(){\n\n        let curr_src = this.state.currentSource\n\n        const canvas = this.canvasRef.current\n        \n        canvas.addEventListener('mousedown', (e) => console.log(e))\n\n        const ctx = canvas.getContext('2d')\n        ctx.strokeStyle = '#000'\n\n        const canvasWidth = canvas.width  \n        this.canvasWidth = canvasWidth\n\n        const canvasHeight = canvas.height\n\n        ctx.clearRect(0, 0, canvasWidth, canvasHeight)\n        ctx.fill()\n\n        let {x0, y0, width, height} = this.state.currentPointsObject\n        let vid = document.getElementById('vid')\n        \n        ctx.drawImage(vid, 0, 0, canvasWidth, canvasHeight)\n        ctx.strokeRect(x0, y0, width, height)\n        ctx.save()\n\n    }\n\n    render(){\n\n        console.log(this.state.currentSource)\n\n        let buttons = this.state.camerasList ? this.state.camerasList.map((data, index) => {\n            return data.isActive ? \n            <Button style={classes.buttonStyling} key={index} onClick={() => {this.setState({currentSource: data.source})}}>\n            {data.name}\n            </Button> : null\n        }) : null \n\n        return(\n            <div>\n                <h1>Configure License Plate Detection Zone</h1>\n                <p>Select a camera feed to configure its license plate detection area. Only license plates within the desingated box will be detected.</p>\n                <div style={classes.buttonsArea}>\n                {buttons}\n                </div>\n                <div style={classes.canvasArea}>\n                    <canvas style={classes.canvas} ref={this.canvasRef}></canvas>\n                    <video ref=\"video\" id=\"vid\"></video>\n                    <div style={classes.configButtons}>\n                    <Button onClick={\n                        () => { \n\n                            const x0 = this.state.currentPointsObject.x0 \n                            const y0 = this.state.currentPointsObject.y0 - 3\n                            const width = this.state.currentPointsObject.width\n                            const height = this.state.currentPointsObject.height \n\n                            const coordsObj = {\n                                x0: x0, \n                                y0: y0,\n                                width: width,\n                                height: height\n                            }\n\n                            this.setState({currentPointsObject: coordsObj})\n                        }\n                    }\n                    style={{textAlign: 'left', marginBottom: '10px'}}\n                    >Vertical Up\n                    </Button>\n                    <Button onClick={\n                        () => { \n\n                            const x0 = this.state.currentPointsObject.x0  \n                            const y0 = this.state.currentPointsObject.y0 + 3\n                            const width = this.state.currentPointsObject.width\n                            const height = this.state.currentPointsObject.height \n\n                            const coordsObj = {\n                                x0: x0, \n                                y0: y0,\n                                width: width,\n                                height: height\n                            }\n\n                            this.setState({currentPointsObject: coordsObj})\n                        }\n                    }\n                    style={{textAlign: 'left', marginBottom: '10px'}}\n                    >Vertical Down\n                    </Button>\n                    <Button onClick={\n                        () => { \n                            \n                            const x0 = this.state.currentPointsObject.x0 - 3\n                            const y0 = this.state.currentPointsObject.y0 \n                            const width = this.state.currentPointsObject.width\n                            const height = this.state.currentPointsObject.height \n\n                            const coordsObj = {\n                                x0: x0, \n                                y0: y0,\n                                width: width,\n                                height: height\n                            }\n\n                            this.setState({currentPointsObject: coordsObj})\n                        }\n                    }\n                    style={{textAlign: 'left', marginBottom: '10px'}}\n                    >Horizontal Left \n                    </Button>\n                    <Button onClick={\n                        () => { \n                            \n                            const x0 = this.state.currentPointsObject.x0 + 3\n                            const y0 = this.state.currentPointsObject.y0 \n                            const width = this.state.currentPointsObject.width\n                            const height = this.state.currentPointsObject.height \n\n                            const coordsObj = {\n                                x0: x0, \n                                y0: y0,\n                                width: width,\n                                height: height\n                            }\n\n                            this.setState({currentPointsObject: coordsObj})\n                        }\n                    }\n                    style={{textAlign: 'left', marginBottom: '10px'}}\n                    >Horizontal Right\n                    </Button>\n                    <Button onClick={\n                        () => { \n                            \n                            const x0 = this.state.currentPointsObject.x0  \n                            const y0 = this.state.currentPointsObject.y0 \n                            const width = this.state.currentPointsObject.width + 3\n                            const height = this.state.currentPointsObject.height \n\n                            const coordsObj = {\n                                x0: x0, \n                                y0: y0,\n                                width: width,\n                                height: height\n                            }\n\n                            this.setState({currentPointsObject: coordsObj})\n                        }\n                    }\n                    style={{textAlign: 'left', marginBottom: '10px'}}\n                    >Expand Width\n                    </Button>\n                    <Button onClick={\n                        () => { \n                            \n                            const x0 = this.state.currentPointsObject.x0  \n                            const y0 = this.state.currentPointsObject.y0 \n                            const width = this.state.currentPointsObject.width - 3\n                            const height = this.state.currentPointsObject.height \n\n                            const coordsObj = {\n                                x0: x0, \n                                y0: y0,\n                                width: width,\n                                height: height\n                            }\n\n                            this.setState({currentPointsObject: coordsObj})\n                        }\n                    }\n                    style={{textAlign: 'left', marginBottom: '10px'}}\n                    >Minimize Width\n                    </Button>\n                    <Button onClick={\n                        () => { \n                            \n                            const x0 = this.state.currentPointsObject.x0  \n                            const y0 = this.state.currentPointsObject.y0 \n                            const width = this.state.currentPointsObject.width \n                            const height = this.state.currentPointsObject.height + 3\n\n                            const coordsObj = {\n                                x0: x0, \n                                y0: y0,\n                                width: width,\n                                height: height\n                            }\n\n                            this.setState({currentPointsObject: coordsObj})\n                        }\n                    }\n                    style={{textAlign: 'left', marginBottom: '10px'}}\n                    >Expand Height\n                    </Button>\n                    <Button onClick={\n                        () => { \n                            \n                            const x0 = this.state.currentPointsObject.x0  \n                            const y0 = this.state.currentPointsObject.y0 \n                            const width = this.state.currentPointsObject.width \n                            const height = this.state.currentPointsObject.height - 3\n\n                            const coordsObj = {\n                                x0: x0, \n                                y0: y0,\n                                width: width,\n                                height: height\n                            }\n                            this.setState({currentPointsObject: coordsObj})\n                        }\n                    }\n                    style={{textAlign: 'left', marginBottom: '10px'}}\n                    >Minimize Height\n                    </Button>\n                </div>\n                    {/* <ReactPlayer url={this.state.currentSource} ref=\"video\"/> */}\n                </div>\n                <a href=\"/dashboard/configuration\" style={{textDecoration: 'none', color: '#000'}}>\n                    <span class=\"material-icons\" style={classes.returnArrow}>\n                        arrow_back\n                    </span>  \n                </a>           \n            </div>\n        )\n    }\n}\n\nexport default LprConfig"]},"metadata":{},"sourceType":"module"}