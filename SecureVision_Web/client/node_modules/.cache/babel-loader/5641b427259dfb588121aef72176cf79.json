{"ast":null,"code":"const Axios = require('axios');\n\nconst securityFootage = require('./security.mp4');\n\nconst sendImage = () => {\n  // Axios.get('/api/getPlates/sendToAPI')\n  let constraints = {\n    audio: false,\n    video: {\n      width: 640,\n      height: 480\n    }\n  };\n  let video = document.getElementById('video');\n  video.setAttribute('controls', 'controls');\n  video.src = securityFootage;\n  let canvas = document.createElement('canvas');\n  canvas.width = 400;\n  canvas.height = 400;\n  let context = canvas.getContext('2d');\n  context.globalCompositeOperation = 'difference';\n  setInterval(capture, 10000);\n\n  function capture() {\n    console.log(\"Capture instance\");\n    context.drawImage(video, 0, 0, 640, 480);\n    let dataURL = canvas.toDataURL();\n    let image = new Image();\n    image.src = dataURL; // Axios.post('/api/getPlates/sendToAPI', \n    // {image_url: 'https://ewscripps.brightspotcdn.com/dims4/default/3a5c97e/2147483647/strip/true/crop/640x360+0+48/resize/1280x720!/quality/90/?url=https%3A%2F%2Fmediaassets.theindychannel.com%2Fphoto%2F2018%2F06%2F26%2Flicense%20plates_1530064394089.JPG_90880759_ver1.0_640_480.jpg',\n    // base64string: dataURL})\n  }\n\n  function error(error) {\n    console.log(error);\n  }\n};\n\nmodule.exports = sendImage;","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/client/src/components/dashboard/sendFeed.js"],"names":["Axios","require","securityFootage","sendImage","constraints","audio","video","width","height","document","getElementById","setAttribute","src","canvas","createElement","context","getContext","globalCompositeOperation","setInterval","capture","console","log","drawImage","dataURL","toDataURL","image","Image","error","module","exports"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,eAAe,GAAGD,OAAO,CAAC,gBAAD,CAA/B;;AACA,MAAME,SAAS,GAAG,MAAM;AACpB;AAEJ,MAAIC,WAAW,GAAG;AACdC,IAAAA,KAAK,EAAE,KADO;AAEdC,IAAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAE,GAAR;AAAaC,MAAAA,MAAM,EAAE;AAArB;AAFO,GAAlB;AAKI,MAAIF,KAAK,GAAGG,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAZ;AACAJ,EAAAA,KAAK,CAACK,YAAN,CAAmB,UAAnB,EAA+B,UAA/B;AACAL,EAAAA,KAAK,CAACM,GAAN,GAAYV,eAAZ;AAEA,MAAIW,MAAM,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,QAAvB,CAAb;AACAD,EAAAA,MAAM,CAACN,KAAP,GAAe,GAAf;AACAM,EAAAA,MAAM,CAACL,MAAP,GAAgB,GAAhB;AACA,MAAIO,OAAO,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAd;AACAD,EAAAA,OAAO,CAACE,wBAAR,GAAmC,YAAnC;AACAC,EAAAA,WAAW,CAACC,OAAD,EAAU,KAAV,CAAX;;AAEA,WAASA,OAAT,GAAmB;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAN,IAAAA,OAAO,CAACO,SAAR,CAAkBhB,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,GAA/B,EAAoC,GAApC;AACA,QAAIiB,OAAO,GAAGV,MAAM,CAACW,SAAP,EAAd;AAEA,QAAIC,KAAK,GAAG,IAAIC,KAAJ,EAAZ;AACAD,IAAAA,KAAK,CAACb,GAAN,GAAYW,OAAZ,CANe,CASf;AACA;AACA;AACH;;AAED,WAASI,KAAT,CAAeA,KAAf,EAAqB;AACjBP,IAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACH;AACJ,CApCD;;AAsCAC,MAAM,CAACC,OAAP,GAAiB1B,SAAjB","sourcesContent":["const Axios = require('axios')\nconst securityFootage = require('./security.mp4')\nconst sendImage = () => {\n    // Axios.get('/api/getPlates/sendToAPI')\n\nlet constraints = {\n    audio: false,\n    video: {width: 640, height: 480}\n}\n\n    let video = document.getElementById('video')\n    video.setAttribute('controls', 'controls')\n    video.src = securityFootage\n\n    let canvas = document.createElement('canvas')\n    canvas.width = 400\n    canvas.height = 400\n    let context = canvas.getContext('2d')\n    context.globalCompositeOperation = 'difference'\n    setInterval(capture, 10000)\n    \n    function capture() {\n        console.log(\"Capture instance\")\n        context.drawImage(video, 0, 0, 640, 480)\n        let dataURL = canvas.toDataURL()\n\n        let image = new Image()\n        image.src = dataURL\n        \n\n        // Axios.post('/api/getPlates/sendToAPI', \n        // {image_url: 'https://ewscripps.brightspotcdn.com/dims4/default/3a5c97e/2147483647/strip/true/crop/640x360+0+48/resize/1280x720!/quality/90/?url=https%3A%2F%2Fmediaassets.theindychannel.com%2Fphoto%2F2018%2F06%2F26%2Flicense%20plates_1530064394089.JPG_90880759_ver1.0_640_480.jpg',\n        // base64string: dataURL})\n    }\n    \n    function error(error){\n        console.log(error)\n    }\n}\n\nmodule.exports = sendImage"]},"metadata":{},"sourceType":"module"}