{"ast":null,"code":"var _jsxFileName = \"/Users/aleclawlor/SecureVision/client/src/components/activePlatesFeed/parentsModal.js\";\nimport React, { Component } from 'react';\nimport Modal from '../material/modal';\nimport Snack from '../snackbar/snackbar';\nimport Button from '@material-ui/core/Button';\nimport { TextField } from '@material-ui/core';\n\nconst Axios = require('axios');\n\nconst primaryColor = '#2D2D2D';\nconst accentColor = '#1C63CD';\n\nclass myModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showEditModal: false,\n      showDeactivateModal: false,\n      parentName: this.props.name,\n      studentName: this.props.studentName,\n      plateNumber: this.props.plateNumber,\n      confirmPlate: this.props.plateNumber,\n      oldParent: this.props.parentName,\n      oldPlate: this.props.plateNumber,\n      id: this.props.id,\n      showSuccess: false,\n      display: true\n    };\n\n    this.handleEditModalClose = () => {\n      this.setState({\n        showEditModal: false\n      });\n    };\n\n    this.handleDeactivateModalClose = () => {\n      this.setState({\n        showDeactivateModal: false\n      });\n    };\n\n    this.editItemHandler = async () => {\n      if (this.state.plateNumber === this.state.confirmPlate) {\n        // find currently selected plate in db \n        let editItem = await Axios.put('/api/edit/editPlate', {\n          id: this.state.id,\n          parentName: this.state.parentName,\n          studentName: this.state.studentName,\n          plateNumber: this.state.plateNumber\n        });\n        console.log(editItem);\n        this.setState({\n          showEditModal: false\n        });\n        this.setState({\n          showSuccess: true,\n          oldPlate: this.state.plateNumber,\n          oldParent: this.state.parentName\n        });\n        this.props.onSubmit();\n      } else {\n        console.log(\"Plates do not match\");\n      }\n    };\n\n    this.deactivatetemHandler = async () => {\n      // find currently selected plate in db \n      let deactivate = await Axios.put('/api/edit/deactivate', {\n        id: this.state.id\n      });\n      console.log(deactivate);\n      this.setState({\n        showDeactivateModal: false\n      });\n      this.setState({\n        showSuccess: true\n      });\n      this.setState({\n        display: false\n      });\n      this.props.onSubmit();\n    };\n\n    this.parentNameChangeHandler = event => {\n      this.setState({\n        parentName: event.target.value\n      });\n    };\n\n    this.studentNameChangeHandler = event => {\n      this.setState({\n        studentName: event.target.value\n      });\n    };\n\n    this.plateChangeHandler = event => {\n      this.setState({\n        plateNumber: event.target.value\n      });\n    };\n\n    this.confirmPlateChangeHandler = event => {\n      this.setState({\n        confirmPlate: event.target.value\n      });\n    };\n  }\n\n  render() {\n    let successSnack = this.state.showSuccess ? /*#__PURE__*/React.createElement(Snack, {\n      activate: true,\n      message: \"Plate successfully edited\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 49\n      }\n    }) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      shouldOpen: this.props.showEditModal,\n      title: \"Edit Plate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        float: 'left',\n        width: '100px',\n        fontSize: '16px',\n        lineHeight: '42px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        width: '200px',\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, \"Parent Name: \"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        width: '200px',\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, \"Student Name: \"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        width: '200px',\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, \"Plate Number: \"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        width: '200px',\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, \"Confirm Plate Number: \")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        float: 'right',\n        marginLeft: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      color: accentColor,\n      style: {\n        width: '100%',\n        marginBottom: '4px'\n      },\n      onChange: this.parentNameChangeHandler,\n      value: this.state.parentName,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      color: accentColor,\n      style: {\n        width: '100%',\n        marginBottom: '4px'\n      },\n      onChange: this.studentNameChangeHandler,\n      value: this.state.studentName,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      color: accentColor,\n      style: {\n        width: '100%',\n        marginBottom: '4px'\n      },\n      onChange: this.plateChangeHandler,\n      value: this.state.plateNumber,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      color: accentColor,\n      style: {\n        width: '100%',\n        marginBottom: '4px'\n      },\n      onChange: this.confirmPlateChangeHandler,\n      value: this.state.confirmPlate,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.editItemHandler,\n      style: {\n        marginTop: '0px',\n        color: accentColor,\n        border: accentColor,\n        outline: accentColor,\n        fontWeight: 550\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, \"Confirm Edit\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.props.onCancel,\n      style: {\n        marginTop: '0px',\n        marginLeft: '20px',\n        color: accentColor,\n        border: accentColor,\n        outline: accentColor,\n        fontWeight: 550\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n      shouldOpen: this.props.showDeactivateModal,\n      title: \"Confirm Deactivation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, \"Are you sure you wish to deactivate this plate? Deactivation means cameras will no longer recognize this plate, and it will be removed from the 'active plates' section. Please confirm this action.\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.deactivatetemHandler,\n      style: {\n        marginTop: '20px',\n        color: accentColor,\n        border: accentColor,\n        outline: accentColor,\n        fontWeight: 550\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, \"Confirm Deactivation\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.props.onCancel,\n      style: {\n        marginTop: '20px',\n        marginLeft: '20px',\n        color: accentColor,\n        border: accentColor,\n        outline: accentColor,\n        fontWeight: 550\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, \"Cancel\"))), successSnack);\n  }\n\n}\n\nexport default myModal;","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/client/src/components/activePlatesFeed/parentsModal.js"],"names":["React","Component","Modal","Snack","Button","TextField","Axios","require","primaryColor","accentColor","myModal","state","showEditModal","showDeactivateModal","parentName","props","name","studentName","plateNumber","confirmPlate","oldParent","oldPlate","id","showSuccess","display","handleEditModalClose","setState","handleDeactivateModalClose","editItemHandler","editItem","put","console","log","onSubmit","deactivatetemHandler","deactivate","parentNameChangeHandler","event","target","value","studentNameChangeHandler","plateChangeHandler","confirmPlateChangeHandler","render","successSnack","float","width","fontSize","lineHeight","marginLeft","marginBottom","marginTop","color","border","outline","fontWeight","onCancel"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Modal from '../material/modal'\nimport Snack from '../snackbar/snackbar'\nimport Button from '@material-ui/core/Button'\nimport { TextField } from '@material-ui/core'\n\nconst Axios = require('axios')\n\nconst primaryColor = '#2D2D2D'\nconst accentColor = '#1C63CD'\n\nclass myModal extends Component {\n\n    state = {\n        showEditModal: false, \n        showDeactivateModal: false,\n        parentName: this.props.name,\n        studentName: this.props.studentName,\n        plateNumber: this.props.plateNumber,\n        confirmPlate: this.props.plateNumber,\n        oldParent: this.props.parentName, \n        oldPlate: this.props.plateNumber,\n        id: this.props.id,\n        showSuccess: false,\n        display: true\n    }\n\n    // modal handlers for parent license plate\n    handleEditModalClose = () => {\n        this.setState({showEditModal: false})\n    }\n    \n    handleDeactivateModalClose = () => {\n        this.setState({showDeactivateModal: false})\n    }\n\n    editItemHandler = async() => {\n        if(this.state.plateNumber === this.state.confirmPlate){\n            // find currently selected plate in db \n        let editItem = await Axios.put('/api/edit/editPlate', {\n                id: this.state.id, \n                parentName: this.state.parentName,\n                studentName: this.state.studentName,\n                plateNumber: this.state.plateNumber\n            })\n        console.log(editItem)\n        this.setState({\n            showEditModal: false\n        })\n        this.setState({showSuccess: true, oldPlate: this.state.plateNumber, oldParent: this.state.parentName})\n        this.props.onSubmit()\n    }\n        else{\n            console.log(\"Plates do not match\")\n        }\n    }\n\n    deactivatetemHandler = async() => {\n        // find currently selected plate in db \n        let deactivate = await Axios.put('/api/edit/deactivate', {\n                id: this.state.id \n            })\n        console.log(deactivate)\n        this.setState({showDeactivateModal: false})\n        this.setState({showSuccess: true})\n        this.setState({display:false})\n        this.props.onSubmit()\n    }\n\n    // handlers for parent plate information changes\n    parentNameChangeHandler = (event) => {\n        this.setState({parentName: event.target.value}) \n    }\n\n    studentNameChangeHandler = (event) => {\n      this.setState({studentName: event.target.value})\n    }\n\n    plateChangeHandler = (event) => {\n      this.setState({plateNumber: event.target.value}) \n    }\n\n    confirmPlateChangeHandler = (event) => {\n      this.setState({confirmPlate: event.target.value})\n    }   \n\n    render(){\n\n    let successSnack = this.state.showSuccess ? <Snack activate={true} message=\"Plate successfully edited\"></Snack> : null\n    \n    return(\n        <div>\n            <Modal shouldOpen={this.props.showEditModal} title=\"Edit Plate\">\n                <div style={{display: 'flex'}}>\n                    <div style={{float: 'left', width: '100px', fontSize: '16px', lineHeight: '42px'}}>\n                        <p style={{width: '200px', display:'flex'}}>Parent Name: </p>\n                        <p style={{width: '200px', display:'flex'}}>Student Name: </p>\n                        <p style={{width: '200px', display:'flex'}}>Plate Number: </p>\n                        <p style={{width: '200px', display:'flex'}}>Confirm Plate Number: </p>\n                    </div>\n                    <div style={{float: 'right', marginLeft: '20%'}}>\n                        <TextField color={accentColor} style={{width: '100%', marginBottom: '4px'}} onChange = {this.parentNameChangeHandler} value={this.state.parentName} variant=\"outlined\"></TextField>\n                        <TextField color={accentColor} style={{width: '100%', marginBottom: '4px'}} onChange = {this.studentNameChangeHandler} value={this.state.studentName} variant=\"outlined\"></TextField>\n                        <TextField color={accentColor} style={{width: '100%', marginBottom: '4px'}} onChange = {this.plateChangeHandler} value={this.state.plateNumber} variant=\"outlined\"></TextField>\n                        <TextField color={accentColor} style={{width: '100%', marginBottom: '4px'}} onChange = {this.confirmPlateChangeHandler} value={this.state.confirmPlate} variant=\"outlined\"></TextField>\n                    </div>\n                </div>     \n                <div style={{marginTop: '20px'}}>\n                    <Button variant = \"outlined\" onClick = {this.editItemHandler} style={{marginTop: '0px', color: accentColor, border: accentColor, outline: accentColor, fontWeight: 550}}>\n                        Confirm Edit\n                    </Button>\n                    <Button variant = \"outlined\" onClick = {this.props.onCancel} style={{marginTop: '0px', marginLeft: '20px', color: accentColor, border: accentColor, outline: accentColor, fontWeight: 550}}>\n                        Cancel\n                    </Button>\n                </div>\n            </Modal>\n            <Modal \n            shouldOpen={this.props.showDeactivateModal}\n            title=\"Confirm Deactivation\">\n                <p>Are you sure you wish to deactivate this plate? Deactivation means cameras will no longer recognize this plate, and it will be removed from the 'active plates' section. Please confirm this action.</p>\n                <div>\n                    <Button variant = \"outlined\" onClick = {this.deactivatetemHandler} style={{marginTop: '20px', color: accentColor, border: accentColor, outline: accentColor, fontWeight: 550}}>\n                        Confirm Deactivation\n                    </Button>\n                    <Button variant = \"outlined\" onClick = {this.props.onCancel} style={{marginTop: '20px', marginLeft: '20px', color: accentColor, border: accentColor, outline: accentColor, fontWeight: 550}}>\n                        Cancel\n                    </Button>\n                </div>\n            </Modal>\n        {successSnack}\n        </div>\n    )}\n}\n\nexport default myModal"]},"metadata":{},"sourceType":"module"}