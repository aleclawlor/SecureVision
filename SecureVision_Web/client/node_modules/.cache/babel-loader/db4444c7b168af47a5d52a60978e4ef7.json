{"ast":null,"code":"const Axios = require('axios');\n\nconst pornVideo = require('./security.mp4');\n\nconst sendImage = () => {\n  // Axios.get('/api/getPlates/sendToAPI')\n  let constraints = {\n    audio: false,\n    video: {\n      width: 0,\n      height: 0\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(success).catch(error);\n\n  function success(stream) {\n    let video = document.getElementById('video');\n    video.setAttribute('controls', 'controls');\n    video.src = pornVideo;\n    let canvas = document.createElement('canvas');\n    canvas.width = 0;\n    canvas.height = 0;\n    let context = canvas.getContext('2d');\n    context.globalCompositeOperation = 'difference';\n    setInterval(capture, 20000);\n\n    function capture() {\n      context.drawImage(video, 0, 0, 640, 480);\n      let dataURL = canvas.toDataURL();\n      let image = new Image();\n      image.src = dataURL; // Axios.post('/api/getPlates/sendToAPI', \n      // {image_url: 'https://ewscripps.brightspotcdn.com/dims4/default/3a5c97e/2147483647/strip/true/crop/640x360+0+48/resize/1280x720!/quality/90/?url=https%3A%2F%2Fmediaassets.theindychannel.com%2Fphoto%2F2018%2F06%2F26%2Flicense%20plates_1530064394089.JPG_90880759_ver1.0_640_480.jpg',\n      // base64string: dataURL})\n    }\n  }\n\n  function error(error) {\n    console.log(error);\n  }\n};\n\nmodule.exports = sendImage;","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/client/src/components/dashboard/sendFeed.js"],"names":["Axios","require","pornVideo","sendImage","constraints","audio","video","width","height","navigator","mediaDevices","getUserMedia","then","success","catch","error","stream","document","getElementById","setAttribute","src","canvas","createElement","context","getContext","globalCompositeOperation","setInterval","capture","drawImage","dataURL","toDataURL","image","Image","console","log","module","exports"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,gBAAD,CAAzB;;AACA,MAAME,SAAS,GAAG,MAAM;AACpB;AAEA,MAAIC,WAAW,GAAG;AACdC,IAAAA,KAAK,EAAE,KADO;AAEdC,IAAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAE,CAAR;AAAWC,MAAAA,MAAM,EAAE;AAAnB;AAFO,GAAlB;AAKAC,EAAAA,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoCP,WAApC,EACCQ,IADD,CACMC,OADN,EAECC,KAFD,CAEOC,KAFP;;AAIA,WAASF,OAAT,CAAiBG,MAAjB,EAAwB;AACpB,QAAIV,KAAK,GAAGW,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAZ;AACAZ,IAAAA,KAAK,CAACa,YAAN,CAAmB,UAAnB,EAA+B,UAA/B;AACAb,IAAAA,KAAK,CAACc,GAAN,GAAYlB,SAAZ;AAEA,QAAImB,MAAM,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,QAAvB,CAAb;AACAD,IAAAA,MAAM,CAACd,KAAP,GAAe,CAAf;AACAc,IAAAA,MAAM,CAACb,MAAP,GAAgB,CAAhB;AACA,QAAIe,OAAO,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAd;AACAD,IAAAA,OAAO,CAACE,wBAAR,GAAmC,YAAnC;AAEAC,IAAAA,WAAW,CAACC,OAAD,EAAU,KAAV,CAAX;;AAEA,aAASA,OAAT,GAAmB;AAEfJ,MAAAA,OAAO,CAACK,SAAR,CAAkBtB,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,GAA/B,EAAoC,GAApC;AACA,UAAIuB,OAAO,GAAGR,MAAM,CAACS,SAAP,EAAd;AAEA,UAAIC,KAAK,GAAG,IAAIC,KAAJ,EAAZ;AACAD,MAAAA,KAAK,CAACX,GAAN,GAAYS,OAAZ,CANe,CASf;AACA;AACA;AACH;AAEJ;;AAED,WAASd,KAAT,CAAeA,KAAf,EAAqB;AACjBkB,IAAAA,OAAO,CAACC,GAAR,CAAYnB,KAAZ;AACH;AACJ,CA5CD;;AA8CAoB,MAAM,CAACC,OAAP,GAAiBjC,SAAjB","sourcesContent":["const Axios = require('axios')\nconst pornVideo = require('./security.mp4')\nconst sendImage = () => {\n    // Axios.get('/api/getPlates/sendToAPI')\n\n    let constraints = {\n        audio: false,\n        video: {width: 0, height: 0}\n    }\n    \n    navigator.mediaDevices.getUserMedia(constraints)\n    .then(success)\n    .catch(error)\n    \n    function success(stream){\n        let video = document.getElementById('video')\n        video.setAttribute('controls', 'controls')\n        video.src = pornVideo\n    \n        let canvas = document.createElement('canvas')\n        canvas.width = 0\n        canvas.height = 0\n        let context = canvas.getContext('2d')\n        context.globalCompositeOperation = 'difference'\n        \n        setInterval(capture, 20000)\n        \n        function capture() {\n            \n            context.drawImage(video, 0, 0, 640, 480)\n            let dataURL = canvas.toDataURL()\n\n            let image = new Image()\n            image.src = dataURL\n            \n\n            // Axios.post('/api/getPlates/sendToAPI', \n            // {image_url: 'https://ewscripps.brightspotcdn.com/dims4/default/3a5c97e/2147483647/strip/true/crop/640x360+0+48/resize/1280x720!/quality/90/?url=https%3A%2F%2Fmediaassets.theindychannel.com%2Fphoto%2F2018%2F06%2F26%2Flicense%20plates_1530064394089.JPG_90880759_ver1.0_640_480.jpg',\n            // base64string: dataURL})\n        }\n    \n    }\n    \n    function error(error){\n        console.log(error)\n    }\n}\n\nmodule.exports = sendImage"]},"metadata":{},"sourceType":"module"}