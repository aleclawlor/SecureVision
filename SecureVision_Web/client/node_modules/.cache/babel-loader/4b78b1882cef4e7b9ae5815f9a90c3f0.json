{"ast":null,"code":"/**\n    * @license\n    * Copyright 2019 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport { loadGraphModel } from \"@tensorflow/tfjs-converter\";\nimport * as tf from \"@tensorflow/tfjs-core\";\nimport { zeros, tidy, Tensor, browser, dispose, getBackend, setBackend, tensor2d, image } from \"@tensorflow/tfjs-core\";\n\nfunction __awaiter(e, a, i, n) {\n  return new (i || (i = Promise))(function (t, m) {\n    function r(e) {\n      try {\n        s(n.next(e));\n      } catch (e) {\n        m(e);\n      }\n    }\n\n    function d(e) {\n      try {\n        s(n.throw(e));\n      } catch (e) {\n        m(e);\n      }\n    }\n\n    function s(e) {\n      e.done ? t(e.value) : new i(function (a) {\n        a(e.value);\n      }).then(r, d);\n    }\n\n    s((n = n.apply(e, a || [])).next());\n  });\n}\n\nfunction __generator(e, a) {\n  var i,\n      n,\n      t,\n      m,\n      r = {\n    label: 0,\n    sent: function () {\n      if (1 & t[0]) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return m = {\n    next: d(0),\n    throw: d(1),\n    return: d(2)\n  }, \"function\" == typeof Symbol && (m[Symbol.iterator] = function () {\n    return this;\n  }), m;\n\n  function d(m) {\n    return function (d) {\n      return function (m) {\n        if (i) throw new TypeError(\"Generator is already executing.\");\n\n        for (; r;) try {\n          if (i = 1, n && (t = 2 & m[0] ? n.return : m[0] ? n.throw || ((t = n.return) && t.call(n), 0) : n.next) && !(t = t.call(n, m[1])).done) return t;\n\n          switch (n = 0, t && (m = [2 & m[0], t.value]), m[0]) {\n            case 0:\n            case 1:\n              t = m;\n              break;\n\n            case 4:\n              return r.label++, {\n                value: m[1],\n                done: !1\n              };\n\n            case 5:\n              r.label++, n = m[1], m = [0];\n              continue;\n\n            case 7:\n              m = r.ops.pop(), r.trys.pop();\n              continue;\n\n            default:\n              if (!(t = (t = r.trys).length > 0 && t[t.length - 1]) && (6 === m[0] || 2 === m[0])) {\n                r = 0;\n                continue;\n              }\n\n              if (3 === m[0] && (!t || m[1] > t[0] && m[1] < t[3])) {\n                r.label = m[1];\n                break;\n              }\n\n              if (6 === m[0] && r.label < t[1]) {\n                r.label = t[1], t = m;\n                break;\n              }\n\n              if (t && r.label < t[2]) {\n                r.label = t[2], r.ops.push(m);\n                break;\n              }\n\n              t[2] && r.ops.pop(), r.trys.pop();\n              continue;\n          }\n\n          m = a.call(e, r);\n        } catch (e) {\n          m = [6, e], n = 0;\n        } finally {\n          i = t = 0;\n        }\n\n        if (5 & m[0]) throw m[1];\n        return {\n          value: m[0] ? m[1] : void 0,\n          done: !0\n        };\n      }([m, d]);\n    };\n  }\n}\n\nfunction __read(e, a) {\n  var i = \"function\" == typeof Symbol && e[Symbol.iterator];\n  if (!i) return e;\n  var n,\n      t,\n      m = i.call(e),\n      r = [];\n\n  try {\n    for (; (void 0 === a || a-- > 0) && !(n = m.next()).done;) r.push(n.value);\n  } catch (e) {\n    t = {\n      error: e\n    };\n  } finally {\n    try {\n      n && !n.done && (i = m.return) && i.call(m);\n    } finally {\n      if (t) throw t.error;\n    }\n  }\n\n  return r;\n}\n\nvar CLASSES = {\n  1: {\n    name: \"/m/01g317\",\n    id: 1,\n    displayName: \"person\"\n  },\n  2: {\n    name: \"/m/0199g\",\n    id: 2,\n    displayName: \"bicycle\"\n  },\n  3: {\n    name: \"/m/0k4j\",\n    id: 3,\n    displayName: \"car\"\n  },\n  4: {\n    name: \"/m/04_sv\",\n    id: 4,\n    displayName: \"motorcycle\"\n  },\n  5: {\n    name: \"/m/05czz6l\",\n    id: 5,\n    displayName: \"airplane\"\n  },\n  6: {\n    name: \"/m/01bjv\",\n    id: 6,\n    displayName: \"bus\"\n  },\n  7: {\n    name: \"/m/07jdr\",\n    id: 7,\n    displayName: \"train\"\n  },\n  8: {\n    name: \"/m/07r04\",\n    id: 8,\n    displayName: \"truck\"\n  },\n  9: {\n    name: \"/m/019jd\",\n    id: 9,\n    displayName: \"boat\"\n  },\n  10: {\n    name: \"/m/015qff\",\n    id: 10,\n    displayName: \"traffic light\"\n  },\n  11: {\n    name: \"/m/01pns0\",\n    id: 11,\n    displayName: \"fire hydrant\"\n  },\n  13: {\n    name: \"/m/02pv19\",\n    id: 13,\n    displayName: \"stop sign\"\n  },\n  14: {\n    name: \"/m/015qbp\",\n    id: 14,\n    displayName: \"parking meter\"\n  },\n  15: {\n    name: \"/m/0cvnqh\",\n    id: 15,\n    displayName: \"bench\"\n  },\n  16: {\n    name: \"/m/015p6\",\n    id: 16,\n    displayName: \"bird\"\n  },\n  17: {\n    name: \"/m/01yrx\",\n    id: 17,\n    displayName: \"cat\"\n  },\n  18: {\n    name: \"/m/0bt9lr\",\n    id: 18,\n    displayName: \"dog\"\n  },\n  19: {\n    name: \"/m/03k3r\",\n    id: 19,\n    displayName: \"horse\"\n  },\n  20: {\n    name: \"/m/07bgp\",\n    id: 20,\n    displayName: \"sheep\"\n  },\n  21: {\n    name: \"/m/01xq0k1\",\n    id: 21,\n    displayName: \"cow\"\n  },\n  22: {\n    name: \"/m/0bwd_0j\",\n    id: 22,\n    displayName: \"elephant\"\n  },\n  23: {\n    name: \"/m/01dws\",\n    id: 23,\n    displayName: \"bear\"\n  },\n  24: {\n    name: \"/m/0898b\",\n    id: 24,\n    displayName: \"zebra\"\n  },\n  25: {\n    name: \"/m/03bk1\",\n    id: 25,\n    displayName: \"giraffe\"\n  },\n  27: {\n    name: \"/m/01940j\",\n    id: 27,\n    displayName: \"backpack\"\n  },\n  28: {\n    name: \"/m/0hnnb\",\n    id: 28,\n    displayName: \"umbrella\"\n  },\n  31: {\n    name: \"/m/080hkjn\",\n    id: 31,\n    displayName: \"handbag\"\n  },\n  32: {\n    name: \"/m/01rkbr\",\n    id: 32,\n    displayName: \"tie\"\n  },\n  33: {\n    name: \"/m/01s55n\",\n    id: 33,\n    displayName: \"suitcase\"\n  },\n  34: {\n    name: \"/m/02wmf\",\n    id: 34,\n    displayName: \"frisbee\"\n  },\n  35: {\n    name: \"/m/071p9\",\n    id: 35,\n    displayName: \"skis\"\n  },\n  36: {\n    name: \"/m/06__v\",\n    id: 36,\n    displayName: \"snowboard\"\n  },\n  37: {\n    name: \"/m/018xm\",\n    id: 37,\n    displayName: \"sports ball\"\n  },\n  38: {\n    name: \"/m/02zt3\",\n    id: 38,\n    displayName: \"kite\"\n  },\n  39: {\n    name: \"/m/03g8mr\",\n    id: 39,\n    displayName: \"baseball bat\"\n  },\n  40: {\n    name: \"/m/03grzl\",\n    id: 40,\n    displayName: \"baseball glove\"\n  },\n  41: {\n    name: \"/m/06_fw\",\n    id: 41,\n    displayName: \"skateboard\"\n  },\n  42: {\n    name: \"/m/019w40\",\n    id: 42,\n    displayName: \"surfboard\"\n  },\n  43: {\n    name: \"/m/0dv9c\",\n    id: 43,\n    displayName: \"tennis racket\"\n  },\n  44: {\n    name: \"/m/04dr76w\",\n    id: 44,\n    displayName: \"bottle\"\n  },\n  46: {\n    name: \"/m/09tvcd\",\n    id: 46,\n    displayName: \"wine glass\"\n  },\n  47: {\n    name: \"/m/08gqpm\",\n    id: 47,\n    displayName: \"cup\"\n  },\n  48: {\n    name: \"/m/0dt3t\",\n    id: 48,\n    displayName: \"fork\"\n  },\n  49: {\n    name: \"/m/04ctx\",\n    id: 49,\n    displayName: \"knife\"\n  },\n  50: {\n    name: \"/m/0cmx8\",\n    id: 50,\n    displayName: \"spoon\"\n  },\n  51: {\n    name: \"/m/04kkgm\",\n    id: 51,\n    displayName: \"bowl\"\n  },\n  52: {\n    name: \"/m/09qck\",\n    id: 52,\n    displayName: \"banana\"\n  },\n  53: {\n    name: \"/m/014j1m\",\n    id: 53,\n    displayName: \"apple\"\n  },\n  54: {\n    name: \"/m/0l515\",\n    id: 54,\n    displayName: \"sandwich\"\n  },\n  55: {\n    name: \"/m/0cyhj_\",\n    id: 55,\n    displayName: \"orange\"\n  },\n  56: {\n    name: \"/m/0hkxq\",\n    id: 56,\n    displayName: \"broccoli\"\n  },\n  57: {\n    name: \"/m/0fj52s\",\n    id: 57,\n    displayName: \"carrot\"\n  },\n  58: {\n    name: \"/m/01b9xk\",\n    id: 58,\n    displayName: \"hot dog\"\n  },\n  59: {\n    name: \"/m/0663v\",\n    id: 59,\n    displayName: \"pizza\"\n  },\n  60: {\n    name: \"/m/0jy4k\",\n    id: 60,\n    displayName: \"donut\"\n  },\n  61: {\n    name: \"/m/0fszt\",\n    id: 61,\n    displayName: \"cake\"\n  },\n  62: {\n    name: \"/m/01mzpv\",\n    id: 62,\n    displayName: \"chair\"\n  },\n  63: {\n    name: \"/m/02crq1\",\n    id: 63,\n    displayName: \"couch\"\n  },\n  64: {\n    name: \"/m/03fp41\",\n    id: 64,\n    displayName: \"potted plant\"\n  },\n  65: {\n    name: \"/m/03ssj5\",\n    id: 65,\n    displayName: \"bed\"\n  },\n  67: {\n    name: \"/m/04bcr3\",\n    id: 67,\n    displayName: \"dining table\"\n  },\n  70: {\n    name: \"/m/09g1w\",\n    id: 70,\n    displayName: \"toilet\"\n  },\n  72: {\n    name: \"/m/07c52\",\n    id: 72,\n    displayName: \"tv\"\n  },\n  73: {\n    name: \"/m/01c648\",\n    id: 73,\n    displayName: \"laptop\"\n  },\n  74: {\n    name: \"/m/020lf\",\n    id: 74,\n    displayName: \"mouse\"\n  },\n  75: {\n    name: \"/m/0qjjc\",\n    id: 75,\n    displayName: \"remote\"\n  },\n  76: {\n    name: \"/m/01m2v\",\n    id: 76,\n    displayName: \"keyboard\"\n  },\n  77: {\n    name: \"/m/050k8\",\n    id: 77,\n    displayName: \"cell phone\"\n  },\n  78: {\n    name: \"/m/0fx9l\",\n    id: 78,\n    displayName: \"microwave\"\n  },\n  79: {\n    name: \"/m/029bxz\",\n    id: 79,\n    displayName: \"oven\"\n  },\n  80: {\n    name: \"/m/01k6s3\",\n    id: 80,\n    displayName: \"toaster\"\n  },\n  81: {\n    name: \"/m/0130jx\",\n    id: 81,\n    displayName: \"sink\"\n  },\n  82: {\n    name: \"/m/040b_t\",\n    id: 82,\n    displayName: \"refrigerator\"\n  },\n  84: {\n    name: \"/m/0bt_c3\",\n    id: 84,\n    displayName: \"book\"\n  },\n  85: {\n    name: \"/m/01x3z\",\n    id: 85,\n    displayName: \"clock\"\n  },\n  86: {\n    name: \"/m/02s195\",\n    id: 86,\n    displayName: \"vase\"\n  },\n  87: {\n    name: \"/m/01lsmm\",\n    id: 87,\n    displayName: \"scissors\"\n  },\n  88: {\n    name: \"/m/0kmg4\",\n    id: 88,\n    displayName: \"teddy bear\"\n  },\n  89: {\n    name: \"/m/03wvsk\",\n    id: 89,\n    displayName: \"hair drier\"\n  },\n  90: {\n    name: \"/m/012xff\",\n    id: 90,\n    displayName: \"toothbrush\"\n  }\n},\n    version = \"2.0.1\",\n    BASE_PATH = \"https://storage.googleapis.com/tfjs-models/savedmodel/\";\n\nfunction load(e) {\n  return void 0 === e && (e = {}), __awaiter(this, void 0, void 0, function () {\n    var a, i, n;\n    return __generator(this, function (t) {\n      switch (t.label) {\n        case 0:\n          if (null == tf) throw new Error(\"Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.\");\n          if (a = e.base || \"lite_mobilenet_v2\", i = e.modelUrl, -1 === [\"mobilenet_v1\", \"mobilenet_v2\", \"lite_mobilenet_v2\"].indexOf(a)) throw new Error(\"ObjectDetection constructed with invalid base model \" + a + \". Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.\");\n          return [4, (n = new ObjectDetection(a, i)).load()];\n\n        case 1:\n          return t.sent(), [2, n];\n      }\n    });\n  });\n}\n\nvar ObjectDetection = function () {\n  function e(e, a) {\n    this.modelPath = a || \"\" + BASE_PATH + this.getPrefix(e) + \"/model.json\";\n  }\n\n  return e.prototype.getPrefix = function (e) {\n    return \"lite_mobilenet_v2\" === e ? \"ssd\" + e : \"ssd_\" + e;\n  }, e.prototype.load = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var e, a;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            return e = this, [4, loadGraphModel(this.modelPath)];\n\n          case 1:\n            return e.model = i.sent(), [4, this.model.executeAsync(zeros([1, 300, 300, 3]))];\n\n          case 2:\n            return a = i.sent(), [4, Promise.all(a.map(function (e) {\n              return e.data();\n            }))];\n\n          case 3:\n            return i.sent(), a.map(function (e) {\n              return e.dispose();\n            }), [2];\n        }\n      });\n    });\n  }, e.prototype.infer = function (e, a) {\n    return __awaiter(this, void 0, void 0, function () {\n      var i, n, t, m, r, d, s, o, l, p, c, y;\n      return __generator(this, function (u) {\n        switch (u.label) {\n          case 0:\n            return i = tidy(function () {\n              return e instanceof Tensor || (e = browser.fromPixels(e)), e.expandDims(0);\n            }), n = i.shape[1], t = i.shape[2], [4, this.model.executeAsync(i)];\n\n          case 1:\n            return m = u.sent(), r = m[0].dataSync(), d = m[1].dataSync(), i.dispose(), dispose(m), s = __read(this.calculateMaxScores(r, m[0].shape[1], m[0].shape[2]), 2), o = s[0], l = s[1], p = getBackend(), setBackend(\"cpu\"), c = tidy(function () {\n              var e = tensor2d(d, [m[1].shape[1], m[1].shape[3]]);\n              return image.nonMaxSuppression(e, o, a, .5, .5);\n            }), y = c.dataSync(), c.dispose(), setBackend(p), [2, this.buildDetectedObjects(t, n, d, o, y, l)];\n        }\n      });\n    });\n  }, e.prototype.buildDetectedObjects = function (e, a, i, n, t, m) {\n    for (var r = t.length, d = [], s = 0; s < r; s++) {\n      for (var o = [], l = 0; l < 4; l++) o[l] = i[4 * t[s] + l];\n\n      var p = o[0] * a,\n          c = o[1] * e,\n          y = o[2] * a,\n          u = o[3] * e;\n      o[0] = c, o[1] = p, o[2] = u - c, o[3] = y - p, d.push({\n        bbox: o,\n        class: CLASSES[m[t[s]] + 1].displayName,\n        score: n[t[s]]\n      });\n    }\n\n    return d;\n  }, e.prototype.calculateMaxScores = function (e, a, i) {\n    for (var n = [], t = [], m = 0; m < a; m++) {\n      for (var r = Number.MIN_VALUE, d = -1, s = 0; s < i; s++) e[m * i + s] > r && (r = e[m * i + s], d = s);\n\n      n[m] = r, t[m] = d;\n    }\n\n    return [n, t];\n  }, e.prototype.detect = function (e, a) {\n    return void 0 === a && (a = 20), __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (i) {\n        return [2, this.infer(e, a)];\n      });\n    });\n  }, e.prototype.dispose = function () {\n    this.model && this.model.dispose();\n  }, e;\n}();\n\nexport { load, ObjectDetection, version };","map":{"version":3,"sources":["/Users/aleclawlor/SecureVision/node_modules/@tensorflow-models/coco-ssd/dist/coco-ssd.esm.js"],"names":["loadGraphModel","tf","zeros","tidy","Tensor","browser","dispose","getBackend","setBackend","tensor2d","image","__awaiter","e","a","i","n","Promise","t","m","r","s","next","d","throw","done","value","then","apply","__generator","label","sent","trys","ops","return","Symbol","iterator","TypeError","call","pop","length","push","__read","error","CLASSES","name","id","displayName","version","BASE_PATH","load","Error","base","modelUrl","indexOf","ObjectDetection","modelPath","getPrefix","prototype","model","executeAsync","all","map","data","infer","o","l","p","c","y","u","fromPixels","expandDims","shape","dataSync","calculateMaxScores","nonMaxSuppression","buildDetectedObjects","bbox","class","score","Number","MIN_VALUE","detect"],"mappings":"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","sourcesContent":["/**\n    * @license\n    * Copyright 2019 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport{loadGraphModel}from\"@tensorflow/tfjs-converter\";import*as tf from\"@tensorflow/tfjs-core\";import{zeros,tidy,Tensor,browser,dispose,getBackend,setBackend,tensor2d,image}from\"@tensorflow/tfjs-core\";function __awaiter(e,a,i,n){return new(i||(i=Promise))(function(t,m){function r(e){try{s(n.next(e))}catch(e){m(e)}}function d(e){try{s(n.throw(e))}catch(e){m(e)}}function s(e){e.done?t(e.value):new i(function(a){a(e.value)}).then(r,d)}s((n=n.apply(e,a||[])).next())})}function __generator(e,a){var i,n,t,m,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return m={next:d(0),throw:d(1),return:d(2)},\"function\"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function d(m){return function(d){return function(m){if(i)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(i=1,n&&(t=2&m[0]?n.return:m[0]?n.throw||((t=n.return)&&t.call(n),0):n.next)&&!(t=t.call(n,m[1])).done)return t;switch(n=0,t&&(m=[2&m[0],t.value]),m[0]){case 0:case 1:t=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,n=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===m[0]||2===m[0])){r=0;continue}if(3===m[0]&&(!t||m[1]>t[0]&&m[1]<t[3])){r.label=m[1];break}if(6===m[0]&&r.label<t[1]){r.label=t[1],t=m;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(m);break}t[2]&&r.ops.pop(),r.trys.pop();continue}m=a.call(e,r)}catch(e){m=[6,e],n=0}finally{i=t=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,d])}}}function __read(e,a){var i=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,t,m=i.call(e),r=[];try{for(;(void 0===a||a-- >0)&&!(n=m.next()).done;)r.push(n.value)}catch(e){t={error:e}}finally{try{n&&!n.done&&(i=m.return)&&i.call(m)}finally{if(t)throw t.error}}return r}var CLASSES={1:{name:\"/m/01g317\",id:1,displayName:\"person\"},2:{name:\"/m/0199g\",id:2,displayName:\"bicycle\"},3:{name:\"/m/0k4j\",id:3,displayName:\"car\"},4:{name:\"/m/04_sv\",id:4,displayName:\"motorcycle\"},5:{name:\"/m/05czz6l\",id:5,displayName:\"airplane\"},6:{name:\"/m/01bjv\",id:6,displayName:\"bus\"},7:{name:\"/m/07jdr\",id:7,displayName:\"train\"},8:{name:\"/m/07r04\",id:8,displayName:\"truck\"},9:{name:\"/m/019jd\",id:9,displayName:\"boat\"},10:{name:\"/m/015qff\",id:10,displayName:\"traffic light\"},11:{name:\"/m/01pns0\",id:11,displayName:\"fire hydrant\"},13:{name:\"/m/02pv19\",id:13,displayName:\"stop sign\"},14:{name:\"/m/015qbp\",id:14,displayName:\"parking meter\"},15:{name:\"/m/0cvnqh\",id:15,displayName:\"bench\"},16:{name:\"/m/015p6\",id:16,displayName:\"bird\"},17:{name:\"/m/01yrx\",id:17,displayName:\"cat\"},18:{name:\"/m/0bt9lr\",id:18,displayName:\"dog\"},19:{name:\"/m/03k3r\",id:19,displayName:\"horse\"},20:{name:\"/m/07bgp\",id:20,displayName:\"sheep\"},21:{name:\"/m/01xq0k1\",id:21,displayName:\"cow\"},22:{name:\"/m/0bwd_0j\",id:22,displayName:\"elephant\"},23:{name:\"/m/01dws\",id:23,displayName:\"bear\"},24:{name:\"/m/0898b\",id:24,displayName:\"zebra\"},25:{name:\"/m/03bk1\",id:25,displayName:\"giraffe\"},27:{name:\"/m/01940j\",id:27,displayName:\"backpack\"},28:{name:\"/m/0hnnb\",id:28,displayName:\"umbrella\"},31:{name:\"/m/080hkjn\",id:31,displayName:\"handbag\"},32:{name:\"/m/01rkbr\",id:32,displayName:\"tie\"},33:{name:\"/m/01s55n\",id:33,displayName:\"suitcase\"},34:{name:\"/m/02wmf\",id:34,displayName:\"frisbee\"},35:{name:\"/m/071p9\",id:35,displayName:\"skis\"},36:{name:\"/m/06__v\",id:36,displayName:\"snowboard\"},37:{name:\"/m/018xm\",id:37,displayName:\"sports ball\"},38:{name:\"/m/02zt3\",id:38,displayName:\"kite\"},39:{name:\"/m/03g8mr\",id:39,displayName:\"baseball bat\"},40:{name:\"/m/03grzl\",id:40,displayName:\"baseball glove\"},41:{name:\"/m/06_fw\",id:41,displayName:\"skateboard\"},42:{name:\"/m/019w40\",id:42,displayName:\"surfboard\"},43:{name:\"/m/0dv9c\",id:43,displayName:\"tennis racket\"},44:{name:\"/m/04dr76w\",id:44,displayName:\"bottle\"},46:{name:\"/m/09tvcd\",id:46,displayName:\"wine glass\"},47:{name:\"/m/08gqpm\",id:47,displayName:\"cup\"},48:{name:\"/m/0dt3t\",id:48,displayName:\"fork\"},49:{name:\"/m/04ctx\",id:49,displayName:\"knife\"},50:{name:\"/m/0cmx8\",id:50,displayName:\"spoon\"},51:{name:\"/m/04kkgm\",id:51,displayName:\"bowl\"},52:{name:\"/m/09qck\",id:52,displayName:\"banana\"},53:{name:\"/m/014j1m\",id:53,displayName:\"apple\"},54:{name:\"/m/0l515\",id:54,displayName:\"sandwich\"},55:{name:\"/m/0cyhj_\",id:55,displayName:\"orange\"},56:{name:\"/m/0hkxq\",id:56,displayName:\"broccoli\"},57:{name:\"/m/0fj52s\",id:57,displayName:\"carrot\"},58:{name:\"/m/01b9xk\",id:58,displayName:\"hot dog\"},59:{name:\"/m/0663v\",id:59,displayName:\"pizza\"},60:{name:\"/m/0jy4k\",id:60,displayName:\"donut\"},61:{name:\"/m/0fszt\",id:61,displayName:\"cake\"},62:{name:\"/m/01mzpv\",id:62,displayName:\"chair\"},63:{name:\"/m/02crq1\",id:63,displayName:\"couch\"},64:{name:\"/m/03fp41\",id:64,displayName:\"potted plant\"},65:{name:\"/m/03ssj5\",id:65,displayName:\"bed\"},67:{name:\"/m/04bcr3\",id:67,displayName:\"dining table\"},70:{name:\"/m/09g1w\",id:70,displayName:\"toilet\"},72:{name:\"/m/07c52\",id:72,displayName:\"tv\"},73:{name:\"/m/01c648\",id:73,displayName:\"laptop\"},74:{name:\"/m/020lf\",id:74,displayName:\"mouse\"},75:{name:\"/m/0qjjc\",id:75,displayName:\"remote\"},76:{name:\"/m/01m2v\",id:76,displayName:\"keyboard\"},77:{name:\"/m/050k8\",id:77,displayName:\"cell phone\"},78:{name:\"/m/0fx9l\",id:78,displayName:\"microwave\"},79:{name:\"/m/029bxz\",id:79,displayName:\"oven\"},80:{name:\"/m/01k6s3\",id:80,displayName:\"toaster\"},81:{name:\"/m/0130jx\",id:81,displayName:\"sink\"},82:{name:\"/m/040b_t\",id:82,displayName:\"refrigerator\"},84:{name:\"/m/0bt_c3\",id:84,displayName:\"book\"},85:{name:\"/m/01x3z\",id:85,displayName:\"clock\"},86:{name:\"/m/02s195\",id:86,displayName:\"vase\"},87:{name:\"/m/01lsmm\",id:87,displayName:\"scissors\"},88:{name:\"/m/0kmg4\",id:88,displayName:\"teddy bear\"},89:{name:\"/m/03wvsk\",id:89,displayName:\"hair drier\"},90:{name:\"/m/012xff\",id:90,displayName:\"toothbrush\"}},version=\"2.0.1\",BASE_PATH=\"https://storage.googleapis.com/tfjs-models/savedmodel/\";function load(e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,function(){var a,i,n;return __generator(this,function(t){switch(t.label){case 0:if(null==tf)throw new Error(\"Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.\");if(a=e.base||\"lite_mobilenet_v2\",i=e.modelUrl,-1===[\"mobilenet_v1\",\"mobilenet_v2\",\"lite_mobilenet_v2\"].indexOf(a))throw new Error(\"ObjectDetection constructed with invalid base model \"+a+\". Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.\");return[4,(n=new ObjectDetection(a,i)).load()];case 1:return t.sent(),[2,n]}})})}var ObjectDetection=function(){function e(e,a){this.modelPath=a||\"\"+BASE_PATH+this.getPrefix(e)+\"/model.json\"}return e.prototype.getPrefix=function(e){return\"lite_mobilenet_v2\"===e?\"ssd\"+e:\"ssd_\"+e},e.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var e,a;return __generator(this,function(i){switch(i.label){case 0:return e=this,[4,loadGraphModel(this.modelPath)];case 1:return e.model=i.sent(),[4,this.model.executeAsync(zeros([1,300,300,3]))];case 2:return a=i.sent(),[4,Promise.all(a.map(function(e){return e.data()}))];case 3:return i.sent(),a.map(function(e){return e.dispose()}),[2]}})})},e.prototype.infer=function(e,a){return __awaiter(this,void 0,void 0,function(){var i,n,t,m,r,d,s,o,l,p,c,y;return __generator(this,function(u){switch(u.label){case 0:return i=tidy(function(){return e instanceof Tensor||(e=browser.fromPixels(e)),e.expandDims(0)}),n=i.shape[1],t=i.shape[2],[4,this.model.executeAsync(i)];case 1:return m=u.sent(),r=m[0].dataSync(),d=m[1].dataSync(),i.dispose(),dispose(m),s=__read(this.calculateMaxScores(r,m[0].shape[1],m[0].shape[2]),2),o=s[0],l=s[1],p=getBackend(),setBackend(\"cpu\"),c=tidy(function(){var e=tensor2d(d,[m[1].shape[1],m[1].shape[3]]);return image.nonMaxSuppression(e,o,a,.5,.5)}),y=c.dataSync(),c.dispose(),setBackend(p),[2,this.buildDetectedObjects(t,n,d,o,y,l)]}})})},e.prototype.buildDetectedObjects=function(e,a,i,n,t,m){for(var r=t.length,d=[],s=0;s<r;s++){for(var o=[],l=0;l<4;l++)o[l]=i[4*t[s]+l];var p=o[0]*a,c=o[1]*e,y=o[2]*a,u=o[3]*e;o[0]=c,o[1]=p,o[2]=u-c,o[3]=y-p,d.push({bbox:o,class:CLASSES[m[t[s]]+1].displayName,score:n[t[s]]})}return d},e.prototype.calculateMaxScores=function(e,a,i){for(var n=[],t=[],m=0;m<a;m++){for(var r=Number.MIN_VALUE,d=-1,s=0;s<i;s++)e[m*i+s]>r&&(r=e[m*i+s],d=s);n[m]=r,t[m]=d}return[n,t]},e.prototype.detect=function(e,a){return void 0===a&&(a=20),__awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return[2,this.infer(e,a)]})})},e.prototype.dispose=function(){this.model&&this.model.dispose()},e}();export{load,ObjectDetection,version};\n"]},"metadata":{},"sourceType":"module"}